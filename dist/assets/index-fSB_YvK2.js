(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();function A(){}const er=n=>n;function Xr(n,e){for(const t in e)n[t]=e[t];return n}function Qr(n){return n&&typeof n=="object"&&typeof n.then=="function"}function tr(n){return n()}function vn(){return Object.create(null)}function ge(n){n.forEach(tr)}function Zt(n){return typeof n=="function"}function X(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function ea(n){return Object.keys(n).length===0}function nr(n,...e){if(n==null)return A;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Q(n,e,t){n.$$.on_destroy.push(nr(e,t))}function Xe(n,e,t,r){if(n){const a=rr(n,e,t,r);return n[0](a)}}function rr(n,e,t,r){return n[1]&&r?Xr(t.ctx.slice(),n[1](r(e))):t.ctx}function Qe(n,e,t,r){if(n[2]&&r){const a=n[2](r(t));if(e.dirty===void 0)return a;if(typeof a=="object"){const s=[],i=Math.max(e.dirty.length,a.length);for(let o=0;o<i;o+=1)s[o]=e.dirty[o]|a[o];return s}return e.dirty|a}return e.dirty}function et(n,e,t,r,a,s){if(a){const i=rr(e,t,r,s);n.p(i,a)}}function tt(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function bn(n){return n??""}function ne(n,e,t){return n.set(t),e}function ar(n){return n&&Zt(n.destroy)?n.destroy:A}const sr=typeof window<"u";let ta=sr?()=>window.performance.now():()=>Date.now(),dn=sr?n=>requestAnimationFrame(n):A;const He=new Set;function ir(n){He.forEach(e=>{e.c(n)||(He.delete(e),e.f())}),He.size!==0&&dn(ir)}function na(n){let e;return He.size===0&&dn(ir),{promise:new Promise(t=>{He.add(e={c:n,f:t})}),abort(){He.delete(e)}}}function b(n,e){n.appendChild(e)}function or(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function ra(n){const e=S("style");return aa(or(n),e),e.sheet}function aa(n,e){b(n.head||n,e)}function D(n,e,t){n.insertBefore(e,t||null)}function I(n){n.parentNode.removeChild(n)}function lr(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function S(n){return document.createElement(n)}function Y(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function le(n){return document.createTextNode(n)}function z(){return le(" ")}function mt(){return le("")}function re(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function m(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function sa(n){return n===""?null:+n}function ia(n){return Array.from(n.childNodes)}function Re(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function wn(n,e){n.value=e??""}function ae(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function cr(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(n,t,r,e),a}const bt=new Map;let wt=0;function oa(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function la(n,e){const t={stylesheet:ra(e),rules:{}};return bt.set(n,t),t}function kn(n,e,t,r,a,s,i,o=0){const l=16.666/r;let c=`{
`;for(let g=0;g<=1;g+=l){const _=e+(t-e)*s(g);c+=g*100+`%{${i(_,1-_)}}
`}const u=c+`100% {${i(t,1-t)}}
}`,d=`__svelte_${oa(u)}_${o}`,f=or(n),{stylesheet:y,rules:p}=bt.get(f)||la(f,n);p[d]||(p[d]=!0,y.insertRule(`@keyframes ${d} ${u}`,y.cssRules.length));const h=n.style.animation||"";return n.style.animation=`${h?`${h}, `:""}${d} ${r}ms linear ${a}ms 1 both`,wt+=1,d}function ca(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),a=t.length-r.length;a&&(n.style.animation=r.join(", "),wt-=a,wt||ua())}function ua(){dn(()=>{wt||(bt.forEach(n=>{const{stylesheet:e}=n;let t=e.cssRules.length;for(;t--;)e.deleteRule(t);n.rules={}}),bt.clear())})}let it;function De(n){it=n}function fn(){if(!it)throw new Error("Function called outside component initialization");return it}function ur(n){fn().$$.on_mount.push(n)}function dr(){const n=fn();return(e,t,{cancelable:r=!1}={})=>{const a=n.$$.callbacks[e];if(a){const s=cr(e,t,{cancelable:r});return a.slice().forEach(i=>{i.call(n,s)}),!s.defaultPrevented}return!0}}function fr(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const at=[],he=[],_t=[],en=[],da=Promise.resolve();let tn=!1;function fa(){tn||(tn=!0,da.then(pn))}function Le(n){_t.push(n)}function ot(n){en.push(n)}const Kt=new Set;let ht=0;function pn(){const n=it;do{for(;ht<at.length;){const e=at[ht];ht++,De(e),pa(e.$$)}for(De(null),at.length=0,ht=0;he.length;)he.pop()();for(let e=0;e<_t.length;e+=1){const t=_t[e];Kt.has(t)||(Kt.add(t),t())}_t.length=0}while(at.length);for(;en.length;)en.pop()();tn=!1,Kt.clear(),De(n)}function pa(n){if(n.fragment!==null){n.update(),ge(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Le)}}let nt;function ma(){return nt||(nt=Promise.resolve(),nt.then(()=>{nt=null})),nt}function Yt(n,e,t){n.dispatchEvent(cr(`${e?"intro":"outro"}${t}`))}const vt=new Set;let Ee;function se(){Ee={r:0,c:[],p:Ee}}function ie(){Ee.r||ge(Ee.c),Ee=Ee.p}function w(n,e){n&&n.i&&(vt.delete(n),n.i(e))}function C(n,e,t,r){if(n&&n.o){if(vt.has(n))return;vt.add(n),Ee.c.push(()=>{vt.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}const ha={duration:0};function Ge(n,e,t,r){let a=e(n,t),s=r?0:1,i=null,o=null,l=null;function c(){l&&ca(n,l)}function u(f,y){const p=f.b-s;return y*=Math.abs(p),{a:s,b:f.b,d:p,duration:y,start:f.start,end:f.start+y,group:f.group}}function d(f){const{delay:y=0,duration:p=300,easing:h=er,tick:g=A,css:_}=a||ha,v={start:ta()+y,b:f};f||(v.group=Ee,Ee.r+=1),i||o?o=v:(_&&(c(),l=kn(n,s,f,p,y,h,_)),f&&g(0,1),i=u(v,p),Le(()=>Yt(n,f,"start")),na(k=>{if(o&&k>o.start&&(i=u(o,p),o=null,Yt(n,i.b,"start"),_&&(c(),l=kn(n,s,i.b,i.duration,0,h,a.css))),i){if(k>=i.end)g(s=i.b,1-s),Yt(n,i.b,"end"),o||(i.b?c():--i.group.r||ge(i.group.c)),i=null;else if(k>=i.start){const O=k-i.start;s=i.a+i.d*h(O/i.duration),g(s,1-s)}}return!!(i||o)}))}return{run(f){Zt(a)?ma().then(()=>{a=a(),d(f)}):d(f)},end(){c(),i=o=null}}}function kt(n,e){const t=e.token={};function r(a,s,i,o){if(e.token!==t)return;e.resolved=o;let l=e.ctx;i!==void 0&&(l=l.slice(),l[i]=o);const c=a&&(e.current=a)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,f)=>{f!==s&&d&&(se(),C(d,1,1,()=>{e.blocks[f]===d&&(e.blocks[f]=null)}),ie())}):e.block.d(1),c.c(),w(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[s]=c),u&&pn()}if(Qr(n)){const a=fn();if(n.then(s=>{De(a),r(e.then,1,e.value,s),De(null)},s=>{if(De(a),r(e.catch,2,e.error,s),De(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,n),!0;e.resolved=n}}function pr(n,e,t){const r=e.slice(),{resolved:a}=n;n.current===n.then&&(r[n.value]=a),n.current===n.catch&&(r[n.error]=a),n.block.p(r,t)}const ga=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function mr(n,e){C(n,1,1,()=>{e.delete(n.key)})}function hr(n,e,t,r,a,s,i,o,l,c,u,d){let f=n.length,y=s.length,p=f;const h={};for(;p--;)h[n[p].key]=p;const g=[],_=new Map,v=new Map;for(p=y;p--;){const N=d(a,s,p),F=t(N);let G=i.get(F);G?G.p(N,e):(G=c(F,N),G.c()),_.set(F,g[p]=G),F in h&&v.set(F,Math.abs(p-h[F]))}const k=new Set,O=new Set;function j(N){w(N,1),N.m(o,u),i.set(N.key,N),u=N.first,y--}for(;f&&y;){const N=g[y-1],F=n[f-1],G=N.key,fe=F.key;N===F?(u=N.first,f--,y--):_.has(fe)?!i.has(G)||k.has(G)?j(N):O.has(fe)?f--:v.get(G)>v.get(fe)?(O.add(G),j(N)):(k.add(fe),f--):(l(F,i),f--)}for(;f--;){const N=n[f];_.has(N.key)||l(N,i)}for(;y;)j(g[y-1]);return g}function lt(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function q(n){n&&n.c()}function L(n,e,t,r){const{fragment:a,on_mount:s,on_destroy:i,after_update:o}=n.$$;a&&a.m(e,t),r||Le(()=>{const l=s.map(tr).filter(Zt);i?i.push(...l):ge(l),n.$$.on_mount=[]}),o.forEach(Le)}function Z(n,e){const t=n.$$;t.fragment!==null&&(ge(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ya(n,e){n.$$.dirty[0]===-1&&(at.push(n),fa(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ee(n,e,t,r,a,s,i,o=[-1]){const l=it;De(n);const c=n.$$={fragment:null,ctx:null,props:s,update:A,not_equal:a,bound:vn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:vn(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};i&&i(c.root);let u=!1;if(c.ctx=t?t(n,e.props||{},(d,f,...y)=>{const p=y.length?y[0]:f;return c.ctx&&a(c.ctx[d],c.ctx[d]=p)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](p),u&&ya(n,d)),f}):[],c.update(),u=!0,ge(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=ia(e.target);c.fragment&&c.fragment.l(d),d.forEach(I)}else c.fragment&&c.fragment.c();e.intro&&w(n.$$.fragment),L(n,e.target,e.anchor,e.customElement),pn()}De(l)}class te{$destroy(){Z(this,1),this.$destroy=A}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}$set(e){this.$$set&&!ea(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var W;(function(n){n.assertEqual=a=>a;function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{const s={};for(const i of a)s[i]=i;return s},n.getValidEnumValues=a=>{const s=n.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),i={};for(const o of s)i[o]=a[o];return n.objectValues(i)},n.objectValues=a=>n.objectKeys(a).map(function(s){return a[s]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},n.find=(a,s)=>{for(const i of a)if(s(i))return i},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}n.joinValues=r})(W||(W={}));const T=W.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Me=n=>{switch(typeof n){case"undefined":return T.undefined;case"string":return T.string;case"number":return isNaN(n)?T.nan:T.number;case"boolean":return T.boolean;case"function":return T.function;case"bigint":return T.bigint;case"object":return Array.isArray(n)?T.array:n===null?T.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?T.promise:typeof Map<"u"&&n instanceof Map?T.map:typeof Set<"u"&&n instanceof Set?T.set:typeof Date<"u"&&n instanceof Date?T.date:T.object;default:return T.unknown}},x=W.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),_a=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Ae extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},a=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)r._errors.push(t(i));else{let o=r,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(i))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return a(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,mn,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Ae.create=n=>new Ae(n);const ct=(n,e)=>{let t;switch(n.code){case x.invalid_type:n.received===T.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case x.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,mn)}`;break;case x.unrecognized_keys:t=`Unrecognized key(s) in object: ${W.joinValues(n.keys,", ")}`;break;case x.invalid_union:t="Invalid input";break;case x.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${W.joinValues(n.options)}`;break;case x.invalid_enum_value:t=`Invalid enum value. Expected ${W.joinValues(n.options)}, received '${n.received}'`;break;case x.invalid_arguments:t="Invalid function arguments";break;case x.invalid_return_type:t="Invalid function return type";break;case x.invalid_date:t="Invalid date";break;case x.invalid_string:typeof n.validation=="object"?"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:W.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case x.too_small:n.type==="array"?t=`Array must contain ${n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be greater than ${n.inclusive?"or equal to ":""}${n.minimum}`:n.type==="date"?t=`Date must be greater than ${n.inclusive?"or equal to ":""}${new Date(n.minimum)}`:t="Invalid input";break;case x.too_big:n.type==="array"?t=`Array must contain ${n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be less than ${n.inclusive?"or equal to ":""}${n.maximum}`:n.type==="date"?t=`Date must be smaller than ${n.inclusive?"or equal to ":""}${new Date(n.maximum)}`:t="Invalid input";break;case x.custom:t="Invalid input";break;case x.invalid_intersection_types:t="Intersection results could not be merged";break;case x.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;default:t=e.defaultError,W.assertNever(n)}return{message:t}};let gr=ct;function va(n){gr=n}function xt(){return gr}const St=n=>{const{data:e,path:t,errorMaps:r,issueData:a}=n,s=[...t,...a.path||[]],i={...a,path:s};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(i,{data:e,defaultError:o}).message;return{...a,path:s,message:a.message||o}},ba=[];function E(n,e){const t=St({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xt(),ct].filter(r=>!!r)});n.common.issues.push(t)}class ce{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const a of t){if(a.status==="aborted")return M;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const a of t)r.push({key:await a.key,value:await a.value});return ce.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const a of t){const{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return M;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),(typeof i.value<"u"||a.alwaysSet)&&(r[s.value]=i.value)}return{status:e.value,value:r}}}const M=Object.freeze({status:"aborted"}),wa=n=>({status:"dirty",value:n}),ue=n=>({status:"valid",value:n}),nn=n=>n.status==="aborted",rn=n=>n.status==="dirty",Ct=n=>n.status==="valid",an=n=>typeof Promise!==void 0&&n instanceof Promise,mn=(n,e)=>typeof e=="bigint"?e.toString():e;var V;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(V||(V={}));class xe{constructor(e,t,r,a){this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._path.concat(this._key)}}const xn=(n,e)=>{if(Ct(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new Ae(n.common.issues)}};function P(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:a}=n;if(e&&(t||r))throw new Error(`Can't use "invalid" or "required" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,o)=>i.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:r??o.defaultError}:{message:t??o.defaultError},description:a}}class ${constructor(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Me(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Me(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ce,ctx:{common:e.parent.common,data:e.data,parsedType:Me(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(an(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const a={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Me(e)},s=this._parseSync({data:e,path:a.path,parent:a});return xn(a,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Me(e)},a=this._parse({data:e,path:[],parent:r}),s=await(an(a)?a:Promise.resolve(a));return xn(r,s)}refine(e,t){const r=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,s)=>{const i=e(a),o=()=>s.addIssue({code:x.custom,...r(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,t){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof t=="function"?t(r,a):t),!1))}_refinement(e){return new Te({schema:this,typeName:B.ZodEffects,effect:{type:"refinement",refinement:e}})}optional(){return ke.create(this)}nullable(){return Ve.create(this)}nullish(){return this.optional().nullable()}array(){return Se.create(this)}promise(){return Ye.create(this)}or(e){return ut.create([this,e])}and(e){return dt.create(this,e)}transform(e){return new Te({schema:this,typeName:B.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new hn({innerType:this,defaultValue:t,typeName:B.ZodDefault})}brand(){return new _r({typeName:B.ZodBranded,type:this,...P(void 0)})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ka=/^c[^\s-]{8,}$/i,xa=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Sa=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class Pe extends ${constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement(a=>e.test(a),{validation:t,code:x.invalid_string,...V.errToObj(r)}),this.nonempty=e=>this.min(1,V.errToObj(e)),this.trim=()=>new Pe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._getType(e)!==T.string){const s=this._getOrReturnCtx(e);return E(s,{code:x.invalid_type,expected:T.string,received:s.parsedType}),M}const r=new ce;let a;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),E(a,{code:x.too_small,minimum:s.value,type:"string",inclusive:!0,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),E(a,{code:x.too_big,maximum:s.value,type:"string",inclusive:!0,message:s.message}),r.dirty());else if(s.kind==="email")Sa.test(e.data)||(a=this._getOrReturnCtx(e,a),E(a,{validation:"email",code:x.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")xa.test(e.data)||(a=this._getOrReturnCtx(e,a),E(a,{validation:"uuid",code:x.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")ka.test(e.data)||(a=this._getOrReturnCtx(e,a),E(a,{validation:"cuid",code:x.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),E(a,{validation:"url",code:x.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),E(a,{validation:"regex",code:x.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),E(a,{code:x.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),E(a,{code:x.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):W.assertNever(s);return{status:r.value,value:e.data}}_addCheck(e){return new Pe({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...V.errToObj(t)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...V.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...V.errToObj(t)})}length(e,t){return this.min(e,t).max(e,t)}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Pe.create=n=>new Pe({checks:[],typeName:B.ZodString,...P(n)});function Ca(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=t>r?t:r,s=parseInt(n.toFixed(a).replace(".","")),i=parseInt(e.toFixed(a).replace(".",""));return s%i/Math.pow(10,a)}class Ze extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._getType(e)!==T.number){const s=this._getOrReturnCtx(e);return E(s,{code:x.invalid_type,expected:T.number,received:s.parsedType}),M}let r;const a=new ce;for(const s of this._def.checks)s.kind==="int"?W.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),E(r,{code:x.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),E(r,{code:x.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),E(r,{code:x.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?Ca(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),E(r,{code:x.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):W.assertNever(s);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,V.toString(t))}gt(e,t){return this.setLimit("min",e,!1,V.toString(t))}lte(e,t){return this.setLimit("max",e,!0,V.toString(t))}lt(e,t){return this.setLimit("max",e,!1,V.toString(t))}setLimit(e,t,r,a){return new Ze({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:V.toString(a)}]})}_addCheck(e){return new Ze({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int")}}Ze.create=n=>new Ze({checks:[],typeName:B.ZodNumber,...P(n)});class Tt extends ${_parse(e){if(this._getType(e)!==T.bigint){const r=this._getOrReturnCtx(e);return E(r,{code:x.invalid_type,expected:T.bigint,received:r.parsedType}),M}return ue(e.data)}}Tt.create=n=>new Tt({typeName:B.ZodBigInt,...P(n)});class Ut extends ${_parse(e){if(this._getType(e)!==T.boolean){const r=this._getOrReturnCtx(e);return E(r,{code:x.invalid_type,expected:T.boolean,received:r.parsedType}),M}return ue(e.data)}}Ut.create=n=>new Ut({typeName:B.ZodBoolean,...P(n)});class Je extends ${_parse(e){if(this._getType(e)!==T.date){const s=this._getOrReturnCtx(e);return E(s,{code:x.invalid_type,expected:T.date,received:s.parsedType}),M}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return E(s,{code:x.invalid_date}),M}const r=new ce;let a;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),E(a,{code:x.too_small,message:s.message,inclusive:!0,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),E(a,{code:x.too_big,message:s.message,inclusive:!0,maximum:s.value,type:"date"}),r.dirty()):W.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Je({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Je.create=n=>new Je({checks:[],typeName:B.ZodDate,...P(n)});class It extends ${_parse(e){if(this._getType(e)!==T.undefined){const r=this._getOrReturnCtx(e);return E(r,{code:x.invalid_type,expected:T.undefined,received:r.parsedType}),M}return ue(e.data)}}It.create=n=>new It({typeName:B.ZodUndefined,...P(n)});class Dt extends ${_parse(e){if(this._getType(e)!==T.null){const r=this._getOrReturnCtx(e);return E(r,{code:x.invalid_type,expected:T.null,received:r.parsedType}),M}return ue(e.data)}}Dt.create=n=>new Dt({typeName:B.ZodNull,...P(n)});class Ke extends ${constructor(){super(...arguments),this._any=!0}_parse(e){return ue(e.data)}}Ke.create=n=>new Ke({typeName:B.ZodAny,...P(n)});class $e extends ${constructor(){super(...arguments),this._unknown=!0}_parse(e){return ue(e.data)}}$e.create=n=>new $e({typeName:B.ZodUnknown,...P(n)});class Ne extends ${_parse(e){const t=this._getOrReturnCtx(e);return E(t,{code:x.invalid_type,expected:T.never,received:t.parsedType}),M}}Ne.create=n=>new Ne({typeName:B.ZodNever,...P(n)});class Et extends ${_parse(e){if(this._getType(e)!==T.undefined){const r=this._getOrReturnCtx(e);return E(r,{code:x.invalid_type,expected:T.void,received:r.parsedType}),M}return ue(e.data)}}Et.create=n=>new Et({typeName:B.ZodVoid,...P(n)});class Se extends ${_parse(e){const{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==T.array)return E(t,{code:x.invalid_type,expected:T.array,received:t.parsedType}),M;if(a.minLength!==null&&t.data.length<a.minLength.value&&(E(t,{code:x.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(E(t,{code:x.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all(t.data.map((i,o)=>a.type._parseAsync(new xe(t,i,t.path,o)))).then(i=>ce.mergeArray(r,i));const s=t.data.map((i,o)=>a.type._parseSync(new xe(t,i,t.path,o)));return ce.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new Se({...this._def,minLength:{value:e,message:V.toString(t)}})}max(e,t){return new Se({...this._def,maxLength:{value:e,message:V.toString(t)}})}length(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Se.create=(n,e)=>new Se({type:n,minLength:null,maxLength:null,typeName:B.ZodArray,...P(e)});var At;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(At||(At={}));const Sn=n=>e=>new K({...n,shape:()=>({...n.shape(),...e})});function We(n){if(n instanceof K){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=ke.create(We(r))}return new K({...n._def,shape:()=>e})}else return n instanceof Se?Se.create(We(n.element)):n instanceof ke?ke.create(We(n.unwrap())):n instanceof Ve?Ve.create(We(n.unwrap())):n instanceof Ce?Ce.create(n.items.map(e=>We(e))):n}class K extends ${constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=Sn(this._def),this.extend=Sn(this._def)}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=W.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==T.object){const c=this._getOrReturnCtx(e);return E(c,{code:x.invalid_type,expected:T.object,received:c.parsedType}),M}const{status:r,ctx:a}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),o=[];for(const c in a.data)i.includes(c)||o.push(c);const l=[];for(const c of i){const u=s[c],d=a.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new xe(a,d,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof Ne){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(c==="strict")o.length>0&&(E(a,{code:x.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=a.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new xe(a,d,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key;c.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>ce.mergeObjectSync(r,c)):ce.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new K({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var a,s,i,o;const l=(i=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,t,r).message)!==null&&i!==void 0?i:r.defaultError;return t.code==="unrecognized_keys"?{message:(o=V.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new K({...this._def,unknownKeys:"strip"})}passthrough(){return new K({...this._def,unknownKeys:"passthrough"})}setKey(e,t){return this.augment({[e]:t})}merge(e){return new K({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>At.mergeShapes(this._def.shape(),e._def.shape()),typeName:B.ZodObject})}catchall(e){return new K({...this._def,catchall:e})}pick(e){const t={};return W.objectKeys(e).map(r=>{this.shape[r]&&(t[r]=this.shape[r])}),new K({...this._def,shape:()=>t})}omit(e){const t={};return W.objectKeys(this.shape).map(r=>{W.objectKeys(e).indexOf(r)===-1&&(t[r]=this.shape[r])}),new K({...this._def,shape:()=>t})}deepPartial(){return We(this)}partial(e){const t={};if(e)return W.objectKeys(this.shape).map(r=>{W.objectKeys(e).indexOf(r)===-1?t[r]=this.shape[r]:t[r]=this.shape[r].optional()}),new K({...this._def,shape:()=>t});for(const r in this.shape){const a=this.shape[r];t[r]=a.optional()}return new K({...this._def,shape:()=>t})}required(){const e={};for(const t in this.shape){let a=this.shape[t];for(;a instanceof ke;)a=a._def.innerType;e[t]=a}return new K({...this._def,shape:()=>e})}keyof(){return yr(W.objectKeys(this.shape))}}K.create=(n,e)=>new K({shape:()=>n,unknownKeys:"strip",catchall:Ne.create(),typeName:B.ZodObject,...P(e)});K.strictCreate=(n,e)=>new K({shape:()=>n,unknownKeys:"strict",catchall:Ne.create(),typeName:B.ZodObject,...P(e)});K.lazycreate=(n,e)=>new K({shape:n,unknownKeys:"strip",catchall:Ne.create(),typeName:B.ZodObject,...P(e)});class ut extends ${_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function a(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return t.common.issues.push(...o.ctx.common.issues),o.result;const i=s.map(o=>new Ae(o.ctx.common.issues));return E(t,{code:x.invalid_union,unionErrors:i}),M}if(t.common.async)return Promise.all(r.map(async s=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(a);{let s;const i=[];for(const l of r){const c={...t,common:{...t.common,issues:[]},parent:null},u=l._parseSync({data:t.data,path:t.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(l=>new Ae(l));return E(t,{code:x.invalid_union,unionErrors:o}),M}}get options(){return this._def.options}}ut.create=(n,e)=>new ut({options:n,typeName:B.ZodUnion,...P(e)});class jt extends ${_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==T.object)return E(t,{code:x.invalid_type,expected:T.object,received:t.parsedType}),M;const r=this.discriminator,a=t.data[r],s=this.options.get(a);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(E(t,{code:x.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[r]}),M)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(e,t,r){const a=new Map;try{t.forEach(s=>{const i=s.shape[e].value;a.set(i,s)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(a.size!==t.length)throw new Error("Some of the discriminator values are not unique");return new jt({typeName:B.ZodDiscriminatedUnion,discriminator:e,options:a,...P(r)})}}function sn(n,e){const t=Me(n),r=Me(e);if(n===e)return{valid:!0,data:n};if(t===T.object&&r===T.object){const a=W.objectKeys(e),s=W.objectKeys(n).filter(o=>a.indexOf(o)!==-1),i={...n,...e};for(const o of s){const l=sn(n[o],e[o]);if(!l.valid)return{valid:!1};i[o]=l.data}return{valid:!0,data:i}}else if(t===T.array&&r===T.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let s=0;s<n.length;s++){const i=n[s],o=e[s],l=sn(i,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return t===T.date&&r===T.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class dt extends ${_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=(s,i)=>{if(nn(s)||nn(i))return M;const o=sn(s.value,i.value);return o.valid?((rn(s)||rn(i))&&t.dirty(),{status:t.value,value:o.data}):(E(r,{code:x.invalid_intersection_types}),M)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}dt.create=(n,e,t)=>new dt({left:n,right:e,typeName:B.ZodIntersection,...P(t)});class Ce extends ${_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==T.array)return E(r,{code:x.invalid_type,expected:T.array,received:r.parsedType}),M;if(r.data.length<this._def.items.length)return E(r,{code:x.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),M;!this._def.rest&&r.data.length>this._def.items.length&&(E(r,{code:x.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),t.dirty());const s=r.data.map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new xe(r,i,r.path,o)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>ce.mergeArray(t,i)):ce.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Ce({...this._def,rest:e})}}Ce.create=(n,e)=>new Ce({items:n,typeName:B.ZodTuple,rest:null,...P(e)});class ft extends ${get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==T.object)return E(r,{code:x.invalid_type,expected:T.object,received:r.parsedType}),M;const a=[],s=this._def.keyType,i=this._def.valueType;for(const o in r.data)a.push({key:s._parse(new xe(r,o,r.path,o)),value:i._parse(new xe(r,r.data[o],r.path,o))});return r.common.async?ce.mergeObjectAsync(t,a):ce.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof $?new ft({keyType:e,valueType:t,typeName:B.ZodRecord,...P(r)}):new ft({keyType:Pe.create(),valueType:e,typeName:B.ZodRecord,...P(t)})}}class Ot extends ${_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==T.map)return E(r,{code:x.invalid_type,expected:T.map,received:r.parsedType}),M;const a=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([o,l],c)=>({key:a._parse(new xe(r,o,r.path,[c,"key"])),value:s._parse(new xe(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of i){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return M;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(c.value,u.value)}return{status:t.value,value:o}})}else{const o=new Map;for(const l of i){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return M;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),o.set(c.value,u.value)}return{status:t.value,value:o}}}}Ot.create=(n,e,t)=>new Ot({valueType:e,keyType:n,typeName:B.ZodMap,...P(t)});class je extends ${_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==T.set)return E(r,{code:x.invalid_type,expected:T.set,received:r.parsedType}),M;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(E(r,{code:x.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(E(r,{code:x.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,message:a.maxSize.message}),t.dirty());const s=this._def.valueType;function i(l){const c=new Set;for(const u of l){if(u.status==="aborted")return M;u.status==="dirty"&&t.dirty(),c.add(u.value)}return{status:t.value,value:c}}const o=[...r.data.values()].map((l,c)=>s._parse(new xe(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>i(l)):i(o)}min(e,t){return new je({...this._def,minSize:{value:e,message:V.toString(t)}})}max(e,t){return new je({...this._def,maxSize:{value:e,message:V.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}je.create=(n,e)=>new je({valueType:n,minSize:null,maxSize:null,typeName:B.ZodSet,...P(e)});class Fe extends ${constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==T.function)return E(t,{code:x.invalid_type,expected:T.function,received:t.parsedType}),M;function r(o,l){return St({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,xt(),ct].filter(c=>!!c),issueData:{code:x.invalid_arguments,argumentsError:l}})}function a(o,l){return St({data:o,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,xt(),ct].filter(c=>!!c),issueData:{code:x.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},i=t.data;return this._def.returns instanceof Ye?ue(async(...o)=>{const l=new Ae([]),c=await this._def.args.parseAsync(o,s).catch(f=>{throw l.addIssue(r(o,f)),l}),u=await i(...c);return await this._def.returns._def.type.parseAsync(u,s).catch(f=>{throw l.addIssue(a(u,f)),l})}):ue((...o)=>{const l=this._def.args.safeParse(o,s);if(!l.success)throw new Ae([r(o,l.error)]);const c=i(...l.data),u=this._def.returns.safeParse(c,s);if(!u.success)throw new Ae([a(c,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Fe({...this._def,args:Ce.create(e).rest($e.create())})}returns(e){return new Fe({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}}Fe.create=(n,e,t)=>new Fe({args:n?n.rest($e.create()):Ce.create([]).rest($e.create()),returns:e||$e.create(),typeName:B.ZodFunction,...P(t)});class Bt extends ${get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Bt.create=(n,e)=>new Bt({getter:n,typeName:B.ZodLazy,...P(e)});class Mt extends ${_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return E(t,{code:x.invalid_literal,expected:this._def.value}),M}return{status:"valid",value:e.data}}get value(){return this._def.value}}Mt.create=(n,e)=>new Mt({value:n,typeName:B.ZodLiteral,...P(e)});function yr(n,e){return new Ft({values:n,typeName:B.ZodEnum,...P(e)})}class Ft extends ${_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return E(t,{expected:W.joinValues(r),received:t.parsedType,code:x.invalid_type}),M}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),r=this._def.values;return E(t,{received:t.data,code:x.invalid_enum_value,options:r}),M}return ue(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}}Ft.create=yr;class $t extends ${_parse(e){const t=W.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==T.string&&r.parsedType!==T.number){const a=W.objectValues(t);return E(r,{expected:W.joinValues(a),received:r.parsedType,code:x.invalid_type}),M}if(t.indexOf(e.data)===-1){const a=W.objectValues(t);return E(r,{received:r.data,code:x.invalid_enum_value,options:a}),M}return ue(e.data)}get enum(){return this._def.values}}$t.create=(n,e)=>new $t({values:n,typeName:B.ZodNativeEnum,...P(e)});class Ye extends ${_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==T.promise&&t.common.async===!1)return E(t,{code:x.invalid_type,expected:T.promise,received:t.parsedType}),M;const r=t.parsedType===T.promise?t.data:Promise.resolve(t.data);return ue(r.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Ye.create=(n,e)=>new Ye({type:n,typeName:B.ZodPromise,...P(e)});class Te extends ${innerType(){return this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null;if(a.type==="preprocess"){const i=a.transform(r.data);return r.common.async?Promise.resolve(i).then(o=>this._def.schema._parseAsync({data:o,path:r.path,parent:r})):this._def.schema._parseSync({data:i,path:r.path,parent:r})}const s={addIssue:i=>{E(r,i),i.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="refinement"){const i=o=>{const l=a.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?M:(o.status==="dirty"&&t.dirty(),i(o.value),{status:t.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?M:(o.status==="dirty"&&t.dirty(),i(o.value).then(()=>({status:t.value,value:o.value}))))}if(a.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ct(i))return i;const o=a.transform(i.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Ct(i)?Promise.resolve(a.transform(i.value,s)).then(o=>({status:t.value,value:o})):i);W.assertNever(a)}}Te.create=(n,e,t)=>new Te({schema:n,typeName:B.ZodEffects,effect:e,...P(t)});Te.createWithPreprocess=(n,e,t)=>new Te({schema:e,effect:{type:"preprocess",transform:n},typeName:B.ZodEffects,...P(t)});class ke extends ${_parse(e){return this._getType(e)===T.undefined?ue(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ke.create=(n,e)=>new ke({innerType:n,typeName:B.ZodOptional,...P(e)});class Ve extends ${_parse(e){return this._getType(e)===T.null?ue(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ve.create=(n,e)=>new Ve({innerType:n,typeName:B.ZodNullable,...P(e)});class hn extends ${_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===T.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}hn.create=(n,e)=>new ke({innerType:n,typeName:B.ZodOptional,...P(e)});class Pt extends ${_parse(e){if(this._getType(e)!==T.nan){const r=this._getOrReturnCtx(e);return E(r,{code:x.invalid_type,expected:T.nan,received:r.parsedType}),M}return{status:"valid",value:e.data}}}Pt.create=n=>new Pt({typeName:B.ZodNaN,...P(n)});const Ta=Symbol("zod_brand");class _r extends ${_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}const vr=(n,e={},t)=>n?Ke.create().superRefine((r,a)=>{if(!n(r)){const s=typeof e=="function"?e(r):e,i=typeof s=="string"?{message:s}:s;a.addIssue({code:"custom",...i,fatal:t})}}):Ke.create(),Ua={object:K.lazycreate};var B;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded"})(B||(B={}));const Ia=(n,e={message:`Input not instance of ${n.name}`})=>vr(t=>t instanceof n,e,!0),br=Pe.create,wr=Ze.create,Da=Pt.create,Ea=Tt.create,kr=Ut.create,Aa=Je.create,Oa=It.create,Ba=Dt.create,Ma=Ke.create,$a=$e.create,Pa=Ne.create,Na=Et.create,Ra=Se.create,La=K.create,Za=K.strictCreate,ja=ut.create,Fa=jt.create,Va=dt.create,za=Ce.create,qa=ft.create,Wa=Ot.create,Ha=je.create,Ga=Fe.create,Ja=Bt.create,Ka=Mt.create,Ya=Ft.create,Xa=$t.create,Qa=Ye.create,Cn=Te.create,es=ke.create,ts=Ve.create,ns=Te.createWithPreprocess,rs=()=>br().optional(),as=()=>wr().optional(),ss=()=>kr().optional();var ve=Object.freeze({__proto__:null,getParsedType:Me,ZodParsedType:T,makeIssue:St,EMPTY_PATH:ba,addIssueToContext:E,ParseStatus:ce,INVALID:M,DIRTY:wa,OK:ue,isAborted:nn,isDirty:rn,isValid:Ct,isAsync:an,jsonStringifyReplacer:mn,ZodType:$,ZodString:Pe,ZodNumber:Ze,ZodBigInt:Tt,ZodBoolean:Ut,ZodDate:Je,ZodUndefined:It,ZodNull:Dt,ZodAny:Ke,ZodUnknown:$e,ZodNever:Ne,ZodVoid:Et,ZodArray:Se,get objectUtil(){return At},ZodObject:K,ZodUnion:ut,ZodDiscriminatedUnion:jt,ZodIntersection:dt,ZodTuple:Ce,ZodRecord:ft,ZodMap:Ot,ZodSet:je,ZodFunction:Fe,ZodLazy:Bt,ZodLiteral:Mt,ZodEnum:Ft,ZodNativeEnum:$t,ZodPromise:Ye,ZodEffects:Te,ZodTransformer:Te,ZodOptional:ke,ZodNullable:Ve,ZodDefault:hn,ZodNaN:Pt,BRAND:Ta,ZodBranded:_r,custom:vr,Schema:$,ZodSchema:$,late:Ua,get ZodFirstPartyTypeKind(){return B},any:Ma,array:Ra,bigint:Ea,boolean:kr,date:Aa,discriminatedUnion:Fa,effect:Cn,enum:Ya,function:Ga,instanceof:Ia,intersection:Va,lazy:Ja,literal:Ka,map:Wa,nan:Da,nativeEnum:Xa,never:Pa,null:Ba,nullable:ts,number:wr,object:La,oboolean:ss,onumber:as,optional:es,ostring:rs,preprocess:ns,promise:Qa,record:qa,set:Ha,strictObject:Za,string:br,transformer:Cn,tuple:za,undefined:Oa,union:ja,unknown:$a,void:Na,ZodIssueCode:x,quotelessJson:_a,ZodError:Ae,defaultErrorMap:ct,setErrorMap:va,getErrorMap:xt});const qe=[];function is(n,e){return{subscribe:de(n,e).subscribe}}function de(n,e=A){let t;const r=new Set;function a(o){if(X(n,o)&&(n=o,t)){const l=!qe.length;for(const c of r)c[1](),qe.push(c,n);if(l){for(let c=0;c<qe.length;c+=2)qe[c][0](qe[c+1]);qe.length=0}}}function s(o){a(o(n))}function i(o,l=A){const c=[o,l];return r.add(c),r.size===1&&(t=e(a)||A),o(n),()=>{r.delete(c),r.size===0&&(t(),t=null)}}return{set:a,update:s,subscribe:i}}function ze(n,e,t){const r=!Array.isArray(n),a=r?[n]:n,s=e.length<2;return is(t,i=>{let o=!1;const l=[];let c=0,u=A;const d=()=>{if(c)return;u();const y=e(r?l[0]:l,i);s?i(y):u=Zt(y)?y:A},f=a.map((y,p)=>nr(y,h=>{l[p]=h,c&=~(1<<p),o&&d()},()=>{c|=1<<p}));return o=!0,d(),function(){ge(f),u()}})}const pt=(n,e,t,r,a,s,i)=>{n.save(),n.beginPath(),n.moveTo(e+s,t),n.lineTo(e+r-s,t),n.quadraticCurveTo(e+r,t,e+r,t+s),n.lineTo(e+r,t+a-s),n.quadraticCurveTo(e+r,t+a,e+r-s,t+a),n.lineTo(e+s,t+a),n.quadraticCurveTo(e,t+a,e,t+a-s),n.lineTo(e,t+s),n.quadraticCurveTo(e,t,e+s,t),n.clip(),i(),n.restore()},os=(n,e,t,r,a)=>{n.save(),n.beginPath(),n.arc(e,t,r,0,2*Math.PI),n.clip(),a(),n.restore()},Tn=n=>({ctx:e,theme:t,canvasSize:r})=>{e.save(),e.fillStyle=t[n],e.fillRect(0,0,r.width,r.height),e.restore()},rt=n=>({ctx:e,canvasSize:t,theme:r})=>{e.save();let a=[0,0,t.width,t.height];switch(n){case"top":a=[0,t.height,0,0];break;case"bottom":a=[0,0,0,t.height];break;case"bottom_right":a=[0,0,t.width,t.height];break;case"left":a=[t.width,0,0,0];break;case"right":a=[0,0,t.width,0];break}const s=e.createLinearGradient(...a);s.addColorStop(0,r.secondary),s.addColorStop(1,r.primary),e.fillStyle=s,e.fillRect(0,0,t.width,t.height),e.restore()},ls=()=>({ctx:n,micAnalyzer:e,theme:t,canvasSize:r})=>{n.save();const{width:a,height:s}=r,i=n.createLinearGradient(0,-s/4,0,s);if(i.addColorStop(0,t.secondary),i.addColorStop(1,t.primary),e){let{freqs:l,analyser:c}=e;c.getByteFrequencyData(l);let u=[];const d=16;let f=0;for(let _=0;_<l.length;_++)f+=l[_],(_+1)%d===0&&(u.push(f/d),f=0);const y=a/u.length,p=new Path2D;p.moveTo(0,s-u[0]/255);let h,g;for(let _=0;_<u.length-1;_++){if(g=h,h=[_*y,(1-u[_]/255)*s],!g)continue;const v=(g[0]+h[0])/2,k=(g[1]+h[1])/2,O=(v+g[0])/2,j=(v+h[0])/2;p.quadraticCurveTo(O,g[1],v,k),p.quadraticCurveTo(j,h[1],h[0],h[1])}p.lineTo(a,s),n.fillStyle=i,n.fill(p)}const o=n.createLinearGradient(0,0,0,s);o.addColorStop(0,t.secondary),o.addColorStop(1,t.primary),n.fillStyle=o,n.fillRect(0,0,a,s),n.restore()},Xt=({N:n})=>({ctx:e,canvasSize:t,theme:r,micAnalyzer:a})=>{e.save();const{width:s,height:i}=t,o=e.createLinearGradient(0,-i/3,0,i);if(o.addColorStop(0,r.secondary),o.addColorStop(1,r.primary),a){let{freqs:c,analyser:u}=a;u.getByteFrequencyData(c);let d=[],f=0;for(let v=0;v<c.length;v++)f+=c[v],(v+1)%n===0&&(d.push(f/n),f=0);const y=s/100,p=(s-(d.length+1)*y)/d.length;e.fillStyle=o;let h,g,_;for(let v=0;v<d.length-1;v++)h=y+(p+y)*v,_=d[v]/255*i,g=i-_,e.fillRect(h,g,p,_)}const l=e.createLinearGradient(0,0,0,i);l.addColorStop(0,r.secondary),l.addColorStop(1,r.primary),e.fillStyle=l,e.fillRect(0,0,s,i),e.restore()},cs=({N:n=1,gapPercent:e=.005,initHue:t=0}={})=>({ctx:r,canvasSize:a,theme:s,micAnalyzer:i})=>{r.save();const{width:o,height:l}=a;if(i){let{freqs:u,analyser:d}=i;d.getByteFrequencyData(u);let f=[],y=0;for(let F=0;F<u.length;F++)y+=u[F],(F+1)%n===0&&(f.push(y/n),y=0);const p=e*o,h=(o-(f.length+1)*p)/f.length,g=h/2,_=Math.floor(l/(g+p));let v,k,O,j,N;for(let F=0;F<f.length;F++){v=p+(h+p)*F,k=f[F]/255*l,O=(t+F/f.length*360)%360,j=Math.floor(k/(g+p)),N=l-2*p-_*(g+p);for(let G=0;G<_;G++)r.fillStyle=`hsla(${O}, ${G<j?70:30}%, 40%, ${G<j?1:.6})`,pt(r,v,l-(G+1)*(g+p),h,g,p,()=>{r.fillRect(v,l-(G+1)*(g+p),h,g)});r.fillStyle=`hsla(${O}, 30%, 40%, 0.6)`,pt(r,v,p,h,N,p,()=>{r.fillRect(v,p,h,N)})}}const c=r.createLinearGradient(0,0,0,l);c.addColorStop(0,s.secondary),c.addColorStop(1,s.primary),r.fillStyle=c,r.fillRect(0,0,o,l),r.restore()},st=de(null),xr=ze(st,n=>n!==null),us=ze(st,(n,e)=>{if(!n)return null;const t=()=>{const a=Math.floor((performance.now()-n)/1e3),s=Math.floor(a/60),i=a%60;e(`${s}:${String(i).padStart(2,"0")}`)};t();const r=setInterval(t,500);return()=>{e(null),clearInterval(r)}},null),ds=(()=>{const n=localStorage.getItem("recordingFps"),e=de(Number(n)||30),t=e.set;return e.set=r=>{localStorage.setItem("recordingFps",String(r)),t(r)},e})(),pe=de({activeIndex:0,shares:[]}),fs=ze(pe,n=>n.shares[n.activeIndex]);ze(pe,n=>n.activeIndex===null||n.shares.length===0?null:n.shares[n.activeIndex].stream);ze(pe,n=>n.activeIndex===null||n.shares.length===0?null:n.shares[n.activeIndex].preview);ze(pe,n=>n.activeIndex===null||n.shares.length===0?null:{width:n.shares[n.activeIndex].width,height:n.shares[n.activeIndex].height});const _e=de({width:0,height:0}),Be=de({}),ps=ze(Be,n=>{if(!n.stream)return null;const e=n.stream,t=new AudioContext,r=t.createAnalyser();return r.fftSize=128,r.minDecibels=-90,r.maxDecibels=-15,t.createMediaStreamSource(e).connect(r),{freqs:new Uint8Array(r.frequencyBinCount),analyser:r}}),on=de(null),Un=[{title:"4K",width:3840,height:2160},{title:"2K",width:2560,height:1440},{title:"1080p",width:1920,height:1080},{title:"Square",width:1920,height:1920},{title:"Portrait",width:1e3,height:1800}],ms=(()=>{const n=localStorage.getItem("canvasSize"),e=Un.find(a=>a.title===n)||Un[0],t=de(e),r=t.set;return t.set=a=>{localStorage.setItem("canvasSize",a.title),r(a)},t})(),Nt=[{title:"Closed Eyes in the Sun",primary:"#FF3F2A",secondary:"#ff7328",accent:"#FFFFFF"},{title:"Tange-orange",primary:"#FF952A",secondary:"#FFD452",accent:"#FFFFFF"},{title:"Jungle-Chic",primary:"#69C647",secondary:"#38BC7F",accent:"#FFFFFF"},{title:"World's Most Generic Blues",primary:"#299FD2",secondary:"#2956D2",accent:"#FFFFFF"},{title:"Irises with Lavenders",primary:"#3A29D2",secondary:"#8029D2",accent:"#FFFFFF"},{title:"(Un)Opinionatedly-Blue Grays",primary:"#1d1e21",secondary:"#34373d",accent:"#FFFFFF"},{title:"Steam-Pressed Shirt",primary:"#edf0f9",secondary:"#f7f8fc",accent:"#FFFFFF"}],Sr=(()=>{const n=localStorage.getItem("theme"),e=Nt.find(a=>a.title===n)||Nt[0],t=de(e),r=t.set;return t.set=a=>{localStorage.setItem("theme",a.title),r(a)},t})();(()=>{const n=JSON.parse(localStorage.getItem("customTheme"))||{...Nt.find(r=>r.title===localStorage.getItem("theme"))||Nt[0]},e=de(n),t=e.set;return e.set=r=>{localStorage.setItem("customTheme",JSON.stringify({...r,title:"customTheme"})),t(r),Sr.set(r)},e})();const In=[{title:"Thin",ariaLabel:"Thin bars",category:"Audio",draw:Xt({N:2})},{title:"Medium",ariaLabel:"Medium bars",category:"Audio",draw:Xt({N:4})},{title:"Thick",ariaLabel:"Thick bars",category:"Audio",draw:Xt({N:8})},{title:"Wave",ariaLabel:"Wave",category:"Audio",draw:ls()},{title:"Rainbow",category:"Audio",ariaLabel:"Rainbow bars",draw:cs({N:2,initHue:0,gapPercent:.003})},{title:"↘",ariaLabel:"Gradient to bottom right",category:"Gradient",draw:rt("bottom_right")},{title:"↑",ariaLabel:"Gradient to top",category:"Gradient",draw:rt("top")},{title:"↓",ariaLabel:"Gradient to bottom",category:"Gradient",draw:rt("bottom")},{title:"←",ariaLabel:"Gradient to left",category:"Gradient",draw:rt("left")},{title:"→",ariaLabel:"Gradient to right",category:"Gradient",draw:rt("right")},{title:"Primary",ariaLabel:"Solid primary color",category:"Solid",draw:Tn("primary")},{title:"Secondary",ariaLabel:"Solid secondary color",category:"Solid",draw:Tn("secondary")}],hs=(()=>{const n=localStorage.getItem("background"),e=In.find(a=>a.title===n)||In[1],t=de(e),r=t.set;return t.set=a=>{localStorage.setItem("background",a.title),r(a)},t})(),Dn=ve.object({padding:ve.number().min(0).max(1).optional().default(.1)}),gs=(()=>{let n={};try{const r=localStorage.getItem("generalLayoutState");n=Dn.parse(r?JSON.parse(r):Dn.parse({}))}catch{}const e=de(n),t=e.set;return e.set=r=>{try{localStorage.setItem("generalLayoutState",JSON.stringify(r))}catch{}t(r)},e})();var Ue=(n=>(n.left="left",n.center="center",n.right="right",n))(Ue||{}),Ie=(n=>(n.top="top",n.center="center",n.bottom="bottom",n))(Ie||{}),Oe=(n=>(n.initial="initial",n.circle="circle",n))(Oe||{});const Cr=["left","center","right"],Tr=["top","center","bottom"],ln=["circle","initial"],cn=ve.object({horizAlign:ve.enum(Cr).optional().default("right"),vertAlign:ve.enum(Tr).optional().default("bottom"),shape:ve.enum(ln).optional().default("circle"),size:ve.number().min(0).max(1).optional().default(.4),borderRadius:ve.number().min(0).max(1).optional().default(.05)}),gt=(()=>{let n={};try{const r=localStorage.getItem("webcamState");n=cn.parse(r?JSON.parse(r):cn.parse({}))}catch{}const e=de(n),t=e.set;return e.set=r=>{try{localStorage.setItem("webcamState",JSON.stringify(r))}catch{}t(r)},e})();ve.object({horizAlign:ve.enum(Cr).optional().default("left"),vertAlign:ve.enum(Tr).optional().default("bottom")});const Qt=(()=>{let n={horizAlign:"left",vertAlign:"bottom"};try{const r=localStorage.getItem("screenState");n=cn.parse(JSON.parse(r))}catch{}const e=de(n),t=e.set;return e.set=r=>{try{localStorage.setItem("screenState",JSON.stringify(r))}catch{}t(r)},e})(),ys=(n,e,t)=>{if(n.webcamState.stream){const{ctx:r,webcamState:a,theme:s,webcamLayoutState:i,canvasSize:o,generalLayoutState:l}=n,{size:c,shape:u}=i,{padding:d}=l,{width:f,height:y}=o,p=d*Math.min(f,y)/4;let h=e*f,g=t*y;if(u===Oe.circle){const _=Math.min(f,y)-2*p,v=c*_,k=a.height/a.width;let O=v,j=O*k;a.width>a.height&&(j=v,O=j/k);const N=v/2;h+=v/2,g+=v/2,r.globalCompositeOperation="destination-out",r.save(),r.lineWidth=2*p,r.strokeStyle=s.accent,r.beginPath(),r.arc(h,g,N,0,2*Math.PI),r.stroke(),r.restore(),r.globalCompositeOperation="source-over",os(r,h,g,N,()=>{r.drawImage(a.preview,h-O/2,g-j/2,O,j)})}else if(u===Oe.initial){const _=a.height/a.width;let v=0,k=0;_*(f-2*p)<=y-2*p?(v=c*(f-2*p),k=v*_):(k=c*(y-2*p),v=k/_);const O=i.borderRadius*Math.min(v,k)/2;r.globalCompositeOperation="destination-out",pt(r,h-p/2,g-p/2,v+p,k+p,O,()=>{r.fillRect(h-p/2,g-p/2,v+p,k+p)}),r.globalCompositeOperation="source-over",pt(r,h,g,v,k,O,()=>{r.drawImage(a.preview,h,g,v,k)})}}},_s=n=>{if(n.activeShare&&n.activeShare.stream&&n.activeShare.preview){const{ctx:e,activeShare:t,screenLayoutState:r,canvasSize:a,generalLayoutState:s}=n,{width:i,height:o}=a,{horizAlign:l,vertAlign:c}=r,{padding:u}=s,d=Math.max(i,o),f=u*Math.min(i,o)/4,y=d/100,p=t.height/t.width;let h=0,g=0,_=0,v=0;p*(i-2*f)<=o-2*f?(h=f,_=i-2*f,v=_*p,c===Ie.top?g=f:c===Ie.center?g=(o-v)/2:c===Ie.bottom&&(g=o-f-v)):(g=f,v=o-2*f,_=v/p,l===Ue.left?h=f:l===Ue.center?h=(i-_)/2:l===Ue.right&&(h=i-f-_)),pt(e,h,g,_,v,y,()=>{e.drawImage(t.preview,h,g,_,v)})}};function vs(n){let e,t;const r=n[2].default,a=Xe(r,n,n[1],null);return{c(){e=S("label"),a&&a.c(),m(e,"for",n[0]),m(e,"class","block text-sm font-medium text-fmd-navy dark:text-white")},m(s,i){D(s,e,i),a&&a.m(e,null),t=!0},p(s,[i]){a&&a.p&&(!t||i&2)&&et(a,r,s,s[1],t?Qe(r,s[1],i,null):tt(s[1]),null),(!t||i&1)&&m(e,"for",s[0])},i(s){t||(w(a,s),t=!0)},o(s){C(a,s),t=!1},d(s){s&&I(e),a&&a.d(s)}}}function bs(n,e,t){let{$$slots:r={},$$scope:a}=e,{name:s=""}=e;return n.$$set=i=>{"name"in i&&t(0,s=i.name),"$$scope"in i&&t(1,a=i.$$scope)},[s,a,r]}class Ur extends te{constructor(e){super(),ee(this,e,bs,vs,X,{name:0})}}function Ir(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=Ir(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function me(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=Ir(n))&&(r&&(r+=" "),r+=e);return r}function En(n,e,t){const r=n.slice();return r[8]=e[t],r[10]=t,r}function ws(n){let e;return{c(){e=le(n[2])},m(t,r){D(t,e,r)},p(t,r){r&4&&Re(e,t[2])},d(t){t&&I(e)}}}function An(n){let e,t,r,a,s,i,o=n[8].title+"",l,c,u,d,f,y,p,h;return{c(){e=S("div"),t=S("input"),s=z(),i=S("label"),l=le(o),d=z(),f=S("div"),y=z(),m(t,"class","hidden peer"),m(t,"type","radio"),t.__value=r=n[8].value,t.value=t.__value,m(t,"id",a=n[8].title),m(t,"name",n[1]),n[7][0].push(t),m(i,"for",c=n[8].title),m(i,"aria-label",u=n[8].ariaLabel||n[8].title),m(i,"class",me("block py-3","transition-default","peer-hover:cursor-pointer peer-hover:text-fmd-red-600 dark:peer-hover:text-fmd-white dark:peer-hover:underline","peer-checked:text-fmd-red-600 dark:peer-checked:text-fmd-white")),m(f,"class","select-child-overlay"),m(e,"class",me("select-child-wrapper",n[10]!==0&&"not-first"))},m(g,_){D(g,e,_),b(e,t),t.checked=t.__value===n[0],b(e,s),b(e,i),b(i,l),b(e,d),b(e,f),b(e,y),p||(h=re(t,"change",n[6]),p=!0)},p(g,_){_&16&&r!==(r=g[8].value)&&(t.__value=r,t.value=t.__value),_&16&&a!==(a=g[8].title)&&m(t,"id",a),_&2&&m(t,"name",g[1]),_&1&&(t.checked=t.__value===g[0]),_&16&&o!==(o=g[8].title+"")&&Re(l,o),_&16&&c!==(c=g[8].title)&&m(i,"for",c),_&16&&u!==(u=g[8].ariaLabel||g[8].title)&&m(i,"aria-label",u)},d(g){g&&I(e),n[7][0].splice(n[7][0].indexOf(t),1),p=!1,h()}}}function ks(n){let e,t,r,a,s,i;t=new Ur({props:{name:n[1],$$slots:{default:[ws]},$$scope:{ctx:n}}});let o=n[4],l=[];for(let c=0;c<o.length;c+=1)l[c]=An(En(n,o,c));return{c(){e=S("div"),q(t.$$.fragment),r=z(),a=S("div");for(let c=0;c<l.length;c+=1)l[c].c();m(a,"class","select-parent"),ae(a,"grid-template-columns","repeat("+(n[5]?1:n[4].length)+", 1fr)"),m(e,"class",s=n[3]?"pointer-events-none":"")},m(c,u){D(c,e,u),L(t,e,null),b(e,r),b(e,a);for(let d=0;d<l.length;d+=1)l[d].m(a,null);i=!0},p(c,[u]){const d={};if(u&2&&(d.name=c[1]),u&2052&&(d.$$scope={dirty:u,ctx:c}),t.$set(d),u&19){o=c[4];let f;for(f=0;f<o.length;f+=1){const y=En(c,o,f);l[f]?l[f].p(y,u):(l[f]=An(y),l[f].c(),l[f].m(a,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}(!i||u&48)&&ae(a,"grid-template-columns","repeat("+(c[5]?1:c[4].length)+", 1fr)"),(!i||u&8&&s!==(s=c[3]?"pointer-events-none":""))&&m(e,"class",s)},i(c){i||(w(t.$$.fragment,c),i=!0)},o(c){C(t.$$.fragment,c),i=!1},d(c){c&&I(e),Z(t),lr(l,c)}}}function xs(n,e,t){let{name:r}=e,{title:a}=e,{value:s}=e,{isDisabled:i=!1}=e,{options:o}=e,{isVertical:l=!1}=e;const c=[[]];function u(){s=this.__value,t(0,s)}return n.$$set=d=>{"name"in d&&t(1,r=d.name),"title"in d&&t(2,a=d.title),"value"in d&&t(0,s=d.value),"isDisabled"in d&&t(3,i=d.isDisabled),"options"in d&&t(4,o=d.options),"isVertical"in d&&t(5,l=d.isVertical)},[s,r,a,i,o,l,u,c]}class Rt extends te{constructor(e){super(),ee(this,e,xs,ks,X,{name:1,title:2,value:0,isDisabled:3,options:4,isVertical:5})}}const Dr=n=>{const e=r=>{r.target instanceof Node&&r.target instanceof Element&&(n.contains(r.target)||n.dispatchEvent(new CustomEvent("outclick")),n.closest(".action_button_popup")!==r.target.closest(".action_button_popup")&&n.closest(".action_button")===r.target.closest(".action_button")&&r.stopPropagation())};document.addEventListener("click",e,!0);const t=r=>{r.key==="Escape"&&n.dispatchEvent(new CustomEvent("outclick"))};return document.addEventListener("keyup",t,!0),{destroy(){document.removeEventListener("click",e,!0),document.removeEventListener("keyup",t,!0)}}};function Ss(n){let e;return{c(){e=le(n[2])},m(t,r){D(t,e,r)},p(t,r){r&4&&Re(e,t[2])},d(t){t&&I(e)}}}function On(n){let e,t=Math.floor(n[0]/n[6]*100)+"",r,a;return{c(){e=S("div"),r=le(t),a=le("%"),m(e,"class","text-xs dark:text-white text-right")},m(s,i){D(s,e,i),b(e,r),b(e,a)},p(s,i){i&65&&t!==(t=Math.floor(s[0]/s[6]*100)+"")&&Re(r,t)},d(s){s&&I(e)}}}function Cs(n){let e,t,r,a,s,i,o,l,c,u,d,f,y,p,h,g,_;t=new Ur({props:{name:n[1],$$slots:{default:[Ss]},$$scope:{ctx:n}}});let v=n[4]&&On(n);return{c(){e=S("div"),q(t.$$.fragment),r=z(),a=S("div"),s=S("div"),i=S("input"),l=z(),c=S("div"),d=z(),f=S("div"),y=z(),v&&v.c(),m(i,"type","range"),m(i,"name",n[1]),m(i,"id",n[1]),m(i,"class",o=bn(me("z-20 block w-full border-fmd-gray rounded-md bg-transparent appearance-none my-2.5 w-full border-0",n[3]?"opacity-30":""))+" svelte-wp0j5w"),i.disabled=n[3],m(i,"min",n[5]),m(i,"max",n[6]),m(i,"step",n[7]),m(c,"class","absolute left-0 h-1 bg-fmd-red z-10"),m(c,"style",u=`width: ${Math.ceil(n[0]/n[6]*100)}%`),m(f,"class","absolute left-0 h-1 w-full bg-fmd-red/20 dark:bg-fmd-white/30 z-0"),m(s,"class","relative flex items-center"),m(a,"class",p=me("mt-1",n[4]&&"grid grid-cols-[1fr_32px] gap-3 items-center"))},m(k,O){D(k,e,O),L(t,e,null),b(e,r),b(e,a),b(a,s),b(s,i),wn(i,n[0]),b(s,l),b(s,c),b(s,d),b(s,f),b(a,y),v&&v.m(a,null),h=!0,g||(_=[re(i,"change",n[8]),re(i,"input",n[8])],g=!0)},p(k,[O]){const j={};O&2&&(j.name=k[1]),O&516&&(j.$$scope={dirty:O,ctx:k}),t.$set(j),(!h||O&2)&&m(i,"name",k[1]),(!h||O&2)&&m(i,"id",k[1]),(!h||O&8&&o!==(o=bn(me("z-20 block w-full border-fmd-gray rounded-md bg-transparent appearance-none my-2.5 w-full border-0",k[3]?"opacity-30":""))+" svelte-wp0j5w"))&&m(i,"class",o),(!h||O&8)&&(i.disabled=k[3]),(!h||O&32)&&m(i,"min",k[5]),(!h||O&64)&&m(i,"max",k[6]),(!h||O&128)&&m(i,"step",k[7]),O&1&&wn(i,k[0]),(!h||O&65&&u!==(u=`width: ${Math.ceil(k[0]/k[6]*100)}%`))&&m(c,"style",u),k[4]?v?v.p(k,O):(v=On(k),v.c(),v.m(a,null)):v&&(v.d(1),v=null),(!h||O&16&&p!==(p=me("mt-1",k[4]&&"grid grid-cols-[1fr_32px] gap-3 items-center")))&&m(a,"class",p)},i(k){h||(w(t.$$.fragment,k),h=!0)},o(k){C(t.$$.fragment,k),h=!1},d(k){k&&I(e),Z(t),v&&v.d(),g=!1,ge(_)}}}function Ts(n,e,t){let{name:r}=e,{title:a}=e,{value:s}=e,{isDisabled:i=!1}=e,{showPercentage:o=!0}=e,{min:l=0}=e,{max:c=1}=e,{step:u=.05}=e;function d(){s=sa(this.value),t(0,s)}return n.$$set=f=>{"name"in f&&t(1,r=f.name),"title"in f&&t(2,a=f.title),"value"in f&&t(0,s=f.value),"isDisabled"in f&&t(3,i=f.isDisabled),"showPercentage"in f&&t(4,o=f.showPercentage),"min"in f&&t(5,l=f.min),"max"in f&&t(6,c=f.max),"step"in f&&t(7,u=f.step)},[s,r,a,i,o,l,c,u,d]}class Us extends te{constructor(e){super(),ee(this,e,Ts,Cs,X,{name:1,title:2,value:0,isDisabled:3,showPercentage:4,min:5,max:6,step:7})}}function Is(n){let e,t;return{c(){e=Y("svg"),t=Y("path"),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"fill-rule","evenodd"),m(t,"clip-rule","evenodd"),m(t,"d","M26 7H15C10.5817 7 7 10.5817 7 15V26H0V15C0 6.71573 6.71573 0 15 0H26V7ZM26 63H15C10.5817 63 7 59.4183 7 55V44H0V55C0 63.2843 6.71573 70 15 70H26V63ZM44 70H55C63.2843 70 70 63.2843 70 55V44H63V55C63 59.4183 59.4183 63 55 63H44V70ZM44 7V0H55C63.2843 0 70 6.71573 70 15V26H63V15C63 10.5817 59.4183 7 55 7H44Z"),m(e,"viewBox","0 0 70 70"),m(e,"class","w-full fill-current"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(r,a){D(r,e,a),b(e,t)},p:A,i:A,o:A,d(r){r&&I(e)}}}class Ds extends te{constructor(e){super(),ee(this,e,null,Is,X,{})}}function Bn(n){let e,t,r,a,s,i,o=n[17]&&Mn(n);return{c(){e=S("div"),t=S("div"),o&&o.c(),m(t,"class",r="flex items-center justify-center transition transition-bg border-2 border-transparent "+(n[17]?"bg-fmd-black/50 border-fmd-red":"")),m(t,"style",n[18]),m(e,"class","absolute top-0 left-0 w-full h-full grid")},m(l,c){D(l,e,c),b(e,t),o&&o.m(t,null),a=!0,s||(i=[re(t,"focus",n[35]),re(t,"mouseover",n[36]),re(t,"mouseleave",n[37])],s=!0)},p(l,c){l[17]?o?(o.p(l,c),c[0]&131072&&w(o,1)):(o=Mn(l),o.c(),w(o,1),o.m(t,null)):o&&(se(),C(o,1,1,()=>{o=null}),ie()),(!a||c[0]&131072&&r!==(r="flex items-center justify-center transition transition-bg border-2 border-transparent "+(l[17]?"bg-fmd-black/50 border-fmd-red":"")))&&m(t,"class",r),(!a||c[0]&262144)&&m(t,"style",l[18])},i(l){a||(w(o),a=!0)},o(l){C(o),a=!1},d(l){l&&I(e),o&&o.d(),s=!1,ge(i)}}}function Mn(n){let e,t,r,a,s;const i=[As,Es],o=[];function l(c,u){return c[6]?0:1}return t=l(n),r=o[t]=i[t](n),{c(){e=S("div"),r.c(),m(e,"class",a=n[6]?"w-11":"w-24")},m(c,u){D(c,e,u),o[t].m(e,null),s=!0},p(c,u){let d=t;t=l(c),t===d?o[t].p(c,u):(se(),C(o[d],1,1,()=>{o[d]=null}),ie(),r=o[t],r?r.p(c,u):(r=o[t]=i[t](c),r.c()),w(r,1),r.m(e,null)),(!s||u[0]&64&&a!==(a=c[6]?"w-11":"w-24"))&&m(e,"class",a)},i(c){s||(w(r),s=!0)},o(c){C(r),s=!1},d(c){c&&I(e),o[t].d()}}}function Es(n){let e,t,r;function a(i){n[34](i)}let s={title:"",name:"screenAlign",options:n[21]};return n[9].horizAlign!==void 0&&(s.value=n[9].horizAlign),e=new Rt({props:s}),he.push(()=>lt(e,"value",a)),{c(){q(e.$$.fragment)},m(i,o){L(e,i,o),r=!0},p(i,o){const l={};!t&&o[0]&512&&(t=!0,l.value=i[9].horizAlign,ot(()=>t=!1)),e.$set(l)},i(i){r||(w(e.$$.fragment,i),r=!0)},o(i){C(e.$$.fragment,i),r=!1},d(i){Z(e,i)}}}function As(n){let e,t,r;function a(i){n[33](i)}let s={title:"",name:"screenAlign",isVertical:!0,options:n[22]};return n[9].vertAlign!==void 0&&(s.value=n[9].vertAlign),e=new Rt({props:s}),he.push(()=>lt(e,"value",a)),{c(){q(e.$$.fragment)},m(i,o){L(e,i,o),r=!0},p(i,o){const l={};!t&&o[0]&512&&(t=!0,l.value=i[9].vertAlign,ot(()=>t=!1)),e.$set(l)},i(i){r||(w(e.$$.fragment,i),r=!0)},o(i){C(e.$$.fragment,i),r=!1},d(i){Z(e,i)}}}function $n(n){let e,t,r,a,s,i,o,l,c,u=n[14]&&Pn(n);return{c(){e=S("div"),t=S("div"),r=S("div"),i=z(),u&&u.c(),m(r,"class",a="self-start border-2 hover:border-fmd-red/80 transition transition-bg hover:bg-fmd-black/50 "+(n[13]&&n[14]?"cursor-grabbing":"cursor-grab")+" "+(n[14]?"border-fmd-red/80":"border-transparent")),m(r,"style",s="height: "+(n[5]-n[19].padding/2*n[5])+"px; width: "+(n[4]-n[19].padding/2*n[4])+"px; "+(n[10].shape===Oe.initial?"":"border-radius: 100%;")),m(t,"class","relative"),m(e,"class","absolute"),ae(e,"top",n[16]*n[2]+"px"),ae(e,"left",n[15]*n[1]+"px")},m(d,f){D(d,e,f),b(e,t),b(t,r),b(t,i),u&&u.m(t,null),o=!0,l||(c=[re(r,"mousedown",n[38]),re(r,"mouseup",n[39]),re(e,"mousedown",n[43]),ar(Dr.call(null,e)),re(e,"outclick",n[44])],l=!0)},p(d,f){(!o||f[0]&24576&&a!==(a="self-start border-2 hover:border-fmd-red/80 transition transition-bg hover:bg-fmd-black/50 "+(d[13]&&d[14]?"cursor-grabbing":"cursor-grab")+" "+(d[14]?"border-fmd-red/80":"border-transparent")))&&m(r,"class",a),(!o||f[0]&525360&&s!==(s="height: "+(d[5]-d[19].padding/2*d[5])+"px; width: "+(d[4]-d[19].padding/2*d[4])+"px; "+(d[10].shape===Oe.initial?"":"border-radius: 100%;")))&&m(r,"style",s),d[14]?u?(u.p(d,f),f[0]&16384&&w(u,1)):(u=Pn(d),u.c(),w(u,1),u.m(t,null)):u&&(se(),C(u,1,1,()=>{u=null}),ie()),(!o||f[0]&65540)&&ae(e,"top",d[16]*d[2]+"px"),(!o||f[0]&32770)&&ae(e,"left",d[15]*d[1]+"px")},i(d){o||(w(u),o=!0)},o(d){C(u),o=!1},d(d){d&&I(e),u&&u.d(),l=!1,ge(c)}}}function Pn(n){let e,t,r,a,s,i,o,l,c,u,d;function f(_){n[40](_)}let y={title:"",name:"webcamShape",options:n[20]};n[10].shape!==void 0&&(y.value=n[10].shape),r=new Rt({props:y}),he.push(()=>lt(r,"value",f));function p(_){n[41](_)}let h={title:"",name:"webcamWidth",options:n[23]};n[10].size!==void 0&&(h.value=n[10].size),o=new Rt({props:h}),he.push(()=>lt(o,"value",p));let g=n[10].shape===Oe.initial&&Nn(n);return{c(){e=S("div"),t=S("div"),q(r.$$.fragment),s=z(),i=S("div"),q(o.$$.fragment),c=z(),g&&g.c(),m(t,"class","w-20"),m(i,"class","w-36"),m(e,"class","flex items-center absolute items-end gap-2"),m(e,"style",u="top: "+(n[16]<.2?n[5]:-60)+"px; "+(n[15]>.5?"right: 0;":""))},m(_,v){D(_,e,v),b(e,t),L(r,t,null),b(e,s),b(e,i),L(o,i,null),b(e,c),g&&g.m(e,null),d=!0},p(_,v){const k={};!a&&v[0]&1024&&(a=!0,k.value=_[10].shape,ot(()=>a=!1)),r.$set(k);const O={};!l&&v[0]&1024&&(l=!0,O.value=_[10].size,ot(()=>l=!1)),o.$set(O),_[10].shape===Oe.initial?g?(g.p(_,v),v[0]&1024&&w(g,1)):(g=Nn(_),g.c(),w(g,1),g.m(e,null)):g&&(se(),C(g,1,1,()=>{g=null}),ie()),(!d||v[0]&98336&&u!==(u="top: "+(_[16]<.2?_[5]:-60)+"px; "+(_[15]>.5?"right: 0;":"")))&&m(e,"style",u)},i(_){d||(w(r.$$.fragment,_),w(o.$$.fragment,_),w(g),d=!0)},o(_){C(r.$$.fragment,_),C(o.$$.fragment,_),C(g),d=!1},d(_){_&&I(e),Z(r),Z(o),g&&g.d()}}}function Nn(n){let e,t,r,a,s,i,o;r=new Ds({});function l(u){n[42](u)}let c={name:"webcamBorderRadius",title:"",min:0,max:1,step:.02,showPercentage:!1};return n[10].borderRadius!==void 0&&(c.value=n[10].borderRadius),s=new Us({props:c}),he.push(()=>lt(s,"value",l)),{c(){e=S("div"),t=S("div"),q(r.$$.fragment),a=z(),q(s.$$.fragment),m(t,"class","w-10 pr-3 py-3 border-r mr-2 dark:text-fmd-white dark:border-fmd-blue"),m(e,"class","flex items-center w-44 border border-fmd-gray rounded mt-2 px-3 bg-fmd-white dark:border-fmd-blue dark:bg-fmd-navy")},m(u,d){D(u,e,d),b(e,t),L(r,t,null),b(e,a),L(s,e,null),o=!0},p(u,d){const f={};!i&&d[0]&1024&&(i=!0,f.value=u[10].borderRadius,ot(()=>i=!1)),s.$set(f)},i(u){o||(w(r.$$.fragment,u),w(s.$$.fragment,u),o=!0)},o(u){C(r.$$.fragment,u),C(s.$$.fragment,u),o=!1},d(u){u&&I(e),Z(r),Z(s)}}}function Os(n){var y;let e,t,r,a,s,i,o,l,c,u,d=((y=n[7])==null?void 0:y.width)&&Bn(n),f=n[11].stream&&$n(n);return{c(){e=S("div"),t=S("div"),r=S("canvas"),i=z(),d&&d.c(),o=z(),f&&f.c(),m(r,"width",a=n[8].width+"px"),m(r,"height",s=n[8].height+"px"),ae(r,"transform","scale("+n[12]+")"),ae(r,"transform-origin","top left"),m(t,"class","bg-gray-300 overflow-hidden rounded shadow-lg relative"),ae(t,"aspect-ratio",n[8].width+"/"+n[8].height),ae(t,"width",n[1]+"px"),ae(t,"height",n[2]+"px"),m(e,"class","w-full h-full flex justify-center items-center")},m(p,h){D(p,e,h),b(e,t),b(t,r),n[32](r),b(t,i),d&&d.m(t,null),b(t,o),f&&f.m(t,null),n[46](e),l=!0,c||(u=[re(window,"resize",n[24]),re(t,"mousemove",n[45])],c=!0)},p(p,h){var g;(!l||h[0]&256&&a!==(a=p[8].width+"px"))&&m(r,"width",a),(!l||h[0]&256&&s!==(s=p[8].height+"px"))&&m(r,"height",s),(!l||h[0]&4096)&&ae(r,"transform","scale("+p[12]+")"),(g=p[7])!=null&&g.width?d?(d.p(p,h),h[0]&128&&w(d,1)):(d=Bn(p),d.c(),w(d,1),d.m(t,o)):d&&(se(),C(d,1,1,()=>{d=null}),ie()),p[11].stream?f?(f.p(p,h),h[0]&2048&&w(f,1)):(f=$n(p),f.c(),w(f,1),f.m(t,null)):f&&(se(),C(f,1,1,()=>{f=null}),ie()),(!l||h[0]&256)&&ae(t,"aspect-ratio",p[8].width+"/"+p[8].height),(!l||h[0]&2)&&ae(t,"width",p[1]+"px"),(!l||h[0]&4)&&ae(t,"height",p[2]+"px")},i(p){l||(w(d),w(f),l=!0)},o(p){C(d),C(f),l=!1},d(p){p&&I(e),n[32](null),d&&d.d(),f&&f.d(),n[46](null),c=!1,ge(u)}}}function Bs(n,e,t){let r,a,s,i,o,l,c,u,d,f,y,p,h,g;Q(n,hs,U=>t(52,i=U)),Q(n,fs,U=>t(7,o=U)),Q(n,ps,U=>t(28,l=U)),Q(n,ms,U=>t(8,c=U)),Q(n,Sr,U=>t(29,u=U)),Q(n,gs,U=>t(19,d=U)),Q(n,Qt,U=>t(9,f=U)),Q(n,gt,U=>t(10,y=U)),Q(n,_e,U=>t(11,p=U)),Q(n,ds,U=>t(30,h=U)),Q(n,on,U=>t(31,g=U));let _,v=0,k=0,O=0,j,N,F=!1,G=!1,fe=0,be=0,we=0,J=0,R=!1;const H=U=>{switch(U){case Ue.left:case Ie.top:return"flex-start";case Ue.center:case Ie.center:return"center";default:return"flex-end"}},ye=[{title:"●",value:ln[0],ariaLabel:"Circle"},{title:"■",value:ln[1],ariaLabel:"Initial"}],Br=[{title:"◀",value:Ue.left,ariaLabel:"Left"},{title:"●",value:Ue.center,ariaLabel:"Center"},{title:"▶",value:Ue.right,ariaLabel:"Right"}],Mr=[{title:"▲",value:Ie.top,ariaLabel:"Top"},{title:"●",value:Ie.center,ariaLabel:"Center"},{title:"▼",value:Ie.bottom,ariaLabel:"Bottom"}],$r=[{title:"S",value:.15,ariaLabel:"Small"},{title:"M",value:.25,ariaLabel:"Medium"},{title:"L",value:.4,ariaLabel:"Large"},{title:"XL",value:.8,ariaLabel:"Extra large"}],gn=()=>{const{width:U,height:Jt}=_.getBoundingClientRect();c.height/c.width*U>Jt?(t(2,k=Jt),t(1,v=Jt/(c.height/c.width))):(t(1,v=U),t(2,k=U*(c.height/c.width))),t(12,O=v/c.width)};ur(()=>{t(25,N||(N=j.getContext("2d")))});let oe={ctx:N,theme:u,canvasSize:c,activeShare:o,webcamState:p,micAnalyzer:l,webcamLayoutState:y,screenLayoutState:f,generalLayoutState:d},qt,Wt,Ht,Gt;const Pr=U=>{Gt=1e3/U,qt=performance.now(),_n(),requestAnimationFrame(yn)},yn=U=>{Wt=U,Ht=Wt-qt,Ht>Gt&&(qt=Wt-Ht%Gt,_n()),t(27,r=o!=null&&o.width?o.height/o.width:1),requestAnimationFrame(yn)},_n=()=>{const U=oe.ctx;U.clearRect(0,0,j.width,j.height),U.imageSmoothingQuality="high",U.globalCompositeOperation="source-over",_s(oe),ys(oe,fe,be),U.globalCompositeOperation="destination-over",i==null||i.draw(oe)};function Nr(U){he[U?"unshift":"push"](()=>{j=U,t(3,j)})}function Rr(U){n.$$.not_equal(f.vertAlign,U)&&(f.vertAlign=U,Qt.set(f))}function Lr(U){n.$$.not_equal(f.horizAlign,U)&&(f.horizAlign=U,Qt.set(f))}const Zr=()=>t(17,R=!0),jr=()=>t(17,R=!0),Fr=()=>t(17,R=!1),Vr=()=>t(13,F=!0),zr=()=>t(13,F=!1);function qr(U){n.$$.not_equal(y.shape,U)&&(y.shape=U,gt.set(y))}function Wr(U){n.$$.not_equal(y.size,U)&&(y.size=U,gt.set(y))}function Hr(U){n.$$.not_equal(y.borderRadius,U)&&(y.borderRadius=U,gt.set(y))}const Gr=()=>t(14,G=!0),Jr=()=>t(14,G=!1),Kr=U=>{F&&G&&(t(15,fe=Math.min(Math.max(fe+U.movementX/v,0),1-(we-we*d.padding/2)/v)),t(16,be=Math.min(Math.max(be+U.movementY/k,0),1-(J-J*d.padding/2)/k)))};function Yr(U){he[U?"unshift":"push"](()=>{_=U,t(0,_)})}return n.$$.update=()=>{n.$$.dirty[0]&128&&t(27,r=o!=null&&o.width?o.height/o.width:1),n.$$.dirty[0]&134217984&&t(6,a=r*c.width<=c.height),n.$$.dirty[0]&134218560&&t(18,s=`
    width: ${a?100:c.height/(r*c.width)*100}%;
    height: ${a?r*c.width/c.height*100:100}%;
    ${a?`align-self: ${H(f.vertAlign)};`:`justify-self: ${H(f.horizAlign)};`}
  `),n.$$.dirty[0]&257&&_&&c&&gn(),n.$$.dirty[0]&3126&&(v/k<=1?(t(4,we=v*y.size),t(5,J=y.shape===Oe.circle?we:we*(p.height/p.width))):(t(5,J=k*y.size),t(4,we=y.shape===Oe.circle?J:J*(p.width/p.height)))),n.$$.dirty[0]&838861184&&(t(26,oe.ctx=N,oe),t(26,oe.theme=u,oe),t(26,oe.canvasSize=c,oe),t(26,oe.micAnalyzer=l,oe),t(26,oe.activeShare=o,oe)),n.$$.dirty[0]&1140850688&&oe.ctx&&Pr(h),n.$$.dirty[0]&1073741832|n.$$.dirty[1]&1&&j&&(g&&g.getTracks().forEach(U=>U.stop()),ne(on,g=j.captureStream(h),g))},[_,v,k,j,we,J,a,o,c,f,y,p,O,F,G,fe,be,R,s,d,ye,Br,Mr,$r,gn,N,oe,r,l,u,h,g,Nr,Rr,Lr,Zr,jr,Fr,Vr,zr,qr,Wr,Hr,Gr,Jr,Kr,Yr]}class Ms extends te{constructor(e){super(),ee(this,e,Bs,Os,X,{},null,[-1,-1])}}function $s(n){const e=n-1;return e*e*e+1}function Rn(n,{delay:e=0,duration:t=400,easing:r=er}={}){const a=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*a}`}}function Lt(n,{delay:e=0,duration:t=400,easing:r=$s}={}){const a=getComputedStyle(n),s=+a.opacity,i=parseFloat(a.height),o=parseFloat(a.paddingTop),l=parseFloat(a.paddingBottom),c=parseFloat(a.marginTop),u=parseFloat(a.marginBottom),d=parseFloat(a.borderTopWidth),f=parseFloat(a.borderBottomWidth);return{delay:e,duration:t,easing:r,css:y=>`overflow: hidden;opacity: ${Math.min(y*20,1)*s};height: ${y*i}px;padding-top: ${y*o}px;padding-bottom: ${y*l}px;margin-top: ${y*c}px;margin-bottom: ${y*u}px;border-top-width: ${y*d}px;border-bottom-width: ${y*f}px;`}}function Ps(n){let e,t,r,a,s,i;return{c(){e=Y("svg"),t=Y("path"),r=Y("path"),a=Y("path"),s=Y("path"),i=Y("path"),m(t,"d","M18,15.9H6c-0.9,0-1.7-0.8-1.7-1.7V6.7c0-0.9,0.8-1.7,1.7-1.7h12c0.9,0,1.7,0.8,1.7,1.7v7.5C19.7,15.2,18.9,15.9,18,15.9z   M6,5.4C5.3,5.4,4.7,6,4.7,6.7v7.5c0,0.7,0.6,1.3,1.3,1.3h12c0.7,0,1.3-0.6,1.3-1.3V6.7c0-0.7-0.6-1.3-1.3-1.3H6z"),m(r,"d","M15,18.9H9c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0.1-0.2,0.2-0.2h6c0.1,0,0.2,0.1,0.2,0.2C15.2,18.9,15.1,18.9,15,18.9z"),m(a,"d","M12,18.9c-0.1,0-0.2-0.1-0.2-0.2v-3c0-0.1,0.1-0.2,0.2-0.2s0.2,0.1,0.2,0.2v3C12.2,18.9,12.1,18.9,12,18.9z"),m(s,"d","M12,13.1c-0.1,0-0.1-0.1-0.1-0.1V8c0-0.1,0.1-0.1,0.1-0.1S12.1,8,12.1,8V13C12.1,13,12.1,13.1,12,13.1z"),m(i,"d","M14.5,10.6H9.5c-0.1,0-0.1-0.1-0.1-0.1s0.1-0.1,0.1-0.1h4.9c0.1,0,0.1,0.1,0.1,0.1S14.5,10.6,14.5,10.6z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 24 24"),ae(e,"enable-background","new 0 0 24 24"),m(e,"xml:space","preserve"),m(e,"class","w-full stroke-current")},m(o,l){D(o,e,l),b(e,t),b(e,r),b(e,a),b(e,s),b(e,i)},p:A,i:A,o:A,d(o){o&&I(e)}}}class Ns extends te{constructor(e){super(),ee(this,e,null,Ps,X,{})}}const Rs=n=>({}),Ln=n=>({});function Zn(n){let e,t,r,a,s;const i=n[8].popupContent,o=Xe(i,n,n[7],Ln);return{c(){e=S("div"),o&&o.c(),m(e,"class",t="w-64 z-20 absolute bg-white dark:bg-transparent "+(n[4]?"top-8":"bottom-20")+" "+(n[5]?"-right-2":"-left-2")+" rounded shadow-xl action_button_popup z-30")},m(l,c){D(l,e,c),o&&o.m(e,null),r=!0,a||(s=[ar(Dr.call(null,e)),re(e,"outclick",n[10])],a=!0)},p(l,c){o&&o.p&&(!r||c&128)&&et(o,i,l,l[7],r?Qe(i,l[7],c,Rs):tt(l[7]),Ln),(!r||c&48&&t!==(t="w-64 z-20 absolute bg-white dark:bg-transparent "+(l[4]?"top-8":"bottom-20")+" "+(l[5]?"-right-2":"-left-2")+" rounded shadow-xl action_button_popup z-30"))&&m(e,"class",t)},i(l){r||(w(o,l),r=!0)},o(l){C(o,l),r=!1},d(l){l&&I(e),o&&o.d(l),a=!1,ge(s)}}}function Ls(n){let e,t,r,a,s,i,o,l=n[0]&&Zn(n);const c=n[8].default,u=Xe(c,n,n[7],null);return{c(){e=S("div"),l&&l.c(),t=z(),r=S("button"),u&&u.c(),m(r,"class",a=me("w-full flex items-center p-1.5 dark:border-fmd-white/20 dark:hover:bg-fmd-white-background","hover:text-fmd-red dark:text-fmd-white dark:hover:text-fmd-white dark:hover:border-fmd-white","transition transition-all duration-100",n[1],n[2]?"h-full rounded":"rounded-full aspect-square",n[3]?"text-black hover:bg-fmd-white-background justify-start dark:hover:underline":"text-fmd-gray-600 border border-fmd-gray hover:bg-fmd-red-background justify-center")),m(e,"class","relative action_button h-full group")},m(d,f){D(d,e,f),l&&l.m(e,null),b(e,t),b(e,r),u&&u.m(r,null),s=!0,i||(o=re(r,"click",n[9]),i=!0)},p(d,[f]){d[0]?l?(l.p(d,f),f&1&&w(l,1)):(l=Zn(d),l.c(),w(l,1),l.m(e,t)):l&&(se(),C(l,1,1,()=>{l=null}),ie()),u&&u.p&&(!s||f&128)&&et(u,c,d,d[7],s?Qe(c,d[7],f,null):tt(d[7]),null),(!s||f&14&&a!==(a=me("w-full flex items-center p-1.5 dark:border-fmd-white/20 dark:hover:bg-fmd-white-background","hover:text-fmd-red dark:text-fmd-white dark:hover:text-fmd-white dark:hover:border-fmd-white","transition transition-all duration-100",d[1],d[2]?"h-full rounded":"rounded-full aspect-square",d[3]?"text-black hover:bg-fmd-white-background justify-start dark:hover:underline":"text-fmd-gray-600 border border-fmd-gray hover:bg-fmd-red-background justify-center")))&&m(r,"class",a)},i(d){s||(w(l),w(u,d),s=!0)},o(d){C(l),C(u,d),s=!1},d(d){d&&I(e),l&&l.d(),u&&u.d(d),i=!1,o()}}}function Zs(n,e,t){let{$$slots:r={},$$scope:a}=e,{isPopupOpen:s=!1}=e,{extraClasses:i=""}=e,{isSquareVariant:o=!0}=e,{isTextVariant:l=!1}=e,{showPopupUnder:c=!1}=e,{rightAlignPopup:u=!1}=e;const d=dr();function f(p){fr.call(this,n,p)}const y=()=>d("popupDismiss");return n.$$set=p=>{"isPopupOpen"in p&&t(0,s=p.isPopupOpen),"extraClasses"in p&&t(1,i=p.extraClasses),"isSquareVariant"in p&&t(2,o=p.isSquareVariant),"isTextVariant"in p&&t(3,l=p.isTextVariant),"showPopupUnder"in p&&t(4,c=p.showPopupUnder),"rightAlignPopup"in p&&t(5,u=p.rightAlignPopup),"$$scope"in p&&t(7,a=p.$$scope)},[s,i,o,l,c,u,d,a,r,f,y]}class Vt extends te{constructor(e){super(),ee(this,e,Zs,Ls,X,{isPopupOpen:0,extraClasses:1,isSquareVariant:2,isTextVariant:3,showPopupUnder:4,rightAlignPopup:5})}}function js(n){let e,t,r,a,s;return{c(){e=Y("svg"),t=Y("g"),r=Y("circle"),a=Y("circle"),s=Y("circle"),m(r,"cx","4.5"),m(r,"cy","12"),m(r,"r","2"),m(a,"cx","12"),m(a,"cy","12"),m(a,"r","2"),m(s,"cx","19.5"),m(s,"cy","12"),m(s,"r","2"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(e,"viewBox","0 0 24 24"),ae(e,"enable-background","new 0 0 24 24"),m(e,"xml:space","preserve"),m(e,"class","w-3/5 animate-[loading_1s_infinite] dark:animate-[loadingDark_1s_infinite]")},m(i,o){D(i,e,o),b(e,t),b(t,r),b(t,a),b(t,s)},p:A,i:A,o:A,d(i){i&&I(e)}}}class Fs extends te{constructor(e){super(),ee(this,e,null,js,X,{})}}function Vs(n){let e,t;return{c(){e=Y("svg"),t=Y("path"),m(t,"d",`M310.7,54.7c12.5-12.5,12.5-32.8,0-45.3s-32.8-12.5-45.3,0L160.1,114.8L54.7,9.5C42.2-3,21.9-3,9.4,9.5s-12.5,32.8,0,45.3
	l105.4,105.3L9.5,265.5C-3,278-3,298.3,9.5,310.8s32.8,12.5,45.3,0l105.3-105.4l105.4,105.3c12.5,12.5,32.8,12.5,45.3,0
	s12.5-32.8,0-45.3L205.4,160.1L310.7,54.7z`),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"stroke-width","1.5"),m(e,"class","w-full fill-current"),m(e,"viewBox","0 0 320.1 320.1")},m(r,a){D(r,e,a),b(e,t)},p:A,i:A,o:A,d(r){r&&I(e)}}}class zs extends te{constructor(e){super(),ee(this,e,null,Vs,X,{})}}function qs(n){let e,t;return e=new Fs({}),{c(){q(e.$$.fragment)},m(r,a){L(e,r,a),t=!0},p:A,i(r){t||(w(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Ws(n){let e,t,r,a,s,i,o;return a=new zs({}),{c(){e=S("video"),t=z(),r=S("button"),q(a.$$.fragment),m(e,"class","h-full"),e.autoplay=!0,e.playsInline=!0,e.muted=!0,m(r,"class","absolute w-5 -top-2 -right-1.5 p-1.5 rounded-full bg-fmd-red text-white hover:bg-fmd-red-600 transition-default")},m(l,c){D(l,e,c),n[9](e),D(l,t,c),D(l,r,c),L(a,r,null),s=!0,i||(o=re(r,"click",n[10]),i=!0)},p:A,i(l){s||(w(a.$$.fragment,l),s=!0)},o(l){C(a.$$.fragment,l),s=!1},d(l){l&&I(e),n[9](null),l&&I(t),l&&I(r),Z(a),i=!1,o()}}}function Hs(n){let e,t,r,a,s,i,o,l,c,u;const d=[Ws,qs],f=[];function y(p,h){return p[0].stream?0:1}return r=y(n),a=f[r]=d[r](n),{c(){e=S("video"),t=z(),a.c(),s=z(),i=S("div"),m(e,"class","invisible absolute top-0 left-0"),e.autoplay=!0,e.playsInline=!0,e.muted=!0,m(i,"class",o=me("w-1.5 h-1.5 bg-fmd-red rounded-full absolute left-0 right-0 m-auto -bottom-3",n[3]?"block":"hidden group-hover:block"))},m(p,h){D(p,e,h),n[8](e),D(p,t,h),f[r].m(p,h),D(p,s,h),D(p,i,h),l=!0,c||(u=re(e,"resize",n[5]),c=!0)},p(p,h){let g=r;r=y(p),r===g?f[r].p(p,h):(se(),C(f[g],1,1,()=>{f[g]=null}),ie(),a=f[r],a?a.p(p,h):(a=f[r]=d[r](p),a.c()),w(a,1),a.m(s.parentNode,s)),(!l||h&8&&o!==(o=me("w-1.5 h-1.5 bg-fmd-red rounded-full absolute left-0 right-0 m-auto -bottom-3",p[3]?"block":"hidden group-hover:block")))&&m(i,"class",o)},i(p){l||(w(a),l=!0)},o(p){C(a),l=!1},d(p){p&&I(e),n[8](null),p&&I(t),f[r].d(p),p&&I(s),p&&I(i),c=!1,u()}}}function Gs(n){let e,t,r;return t=new Vt({props:{isActive:n[3],isSquareVariant:!0,$$slots:{default:[Hs]},$$scope:{ctx:n}}}),t.$on("click",n[6]),{c(){e=S("div"),q(t.$$.fragment),m(e,"class","w-20 h-14 relative")},m(a,s){D(a,e,s),L(t,e,null),r=!0},p(a,[s]){const i={};s&8&&(i.isActive=a[3]),s&4111&&(i.$$scope={dirty:s,ctx:a}),t.$set(i)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){C(t.$$.fragment,a),r=!1},d(a){a&&I(e),Z(t)}}}function Js(n,e,t){let r;Q(n,pe,h=>t(7,r=h));let{share:a}=e,{index:s}=e,i,o=!1;ur(async()=>{try{t(0,a.stream=await navigator.mediaDevices.getDisplayMedia({video:!0}),a),t(0,a.preview.srcObject=a.stream,a),u(),d()}catch{l(s)}});const l=async h=>{const g=r.shares.filter((v,k)=>k!==h);let _=null;h===r.activeIndex&&g.length&&h===0&&(_=0),h===r.activeIndex&&g.length&&h!==0&&(_=h-1),h!==r.activeIndex&&g.length&&h>r.activeIndex&&(_=r.activeIndex),h!==r.activeIndex&&g.length&&h<r.activeIndex&&(_=r.activeIndex-1),ne(pe,r={activeIndex:_,shares:g},r)},c=(h,g)=>{r.shares[g]&&(r.shares[g].stream.getTracks().forEach(_=>_.stop()),pe.set(r),l(g))},u=()=>{const{videoWidth:h,videoHeight:g}=a.preview;t(0,a.width=h,a),t(0,a.height=g,a)},d=()=>{const h=r.shares.indexOf(a);ne(pe,r.activeIndex=h,r),setTimeout(()=>{ne(pe,r.shares[h].width=a.preview.videoWidth,r),ne(pe,r.shares[h].height=a.preview.videoHeight,r)},100)};function f(h){he[h?"unshift":"push"](()=>{a.preview=h,t(0,a)})}function y(h){he[h?"unshift":"push"](()=>{i=h,t(2,i),t(7,r),t(1,s)})}const p=h=>c(h,s);return n.$$set=h=>{"share"in h&&t(0,a=h.share),"index"in h&&t(1,s=h.index)},n.$$.update=()=>{n.$$.dirty&134&&(i&&r.shares[s]&&t(2,i.srcObject=r.shares[s].stream,i),t(3,o=r.activeIndex===s))},[a,s,i,o,c,u,d,r,f,y,p]}class Ks extends te{constructor(e){super(),ee(this,e,Js,Gs,X,{share:0,index:1})}}function Ys(n){let e,t;return{c(){e=Y("svg"),t=Y("path"),m(t,"stroke-linecap","round"),m(t,"d","M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill","none"),m(e,"viewBox","0 0 24 24"),m(e,"stroke-width","1.5"),m(e,"stroke","currentColor"),m(e,"class","w-3/4 h-3/4")},m(r,a){D(r,e,a),b(e,t)},p:A,i:A,o:A,d(r){r&&I(e)}}}class Xs extends te{constructor(e){super(),ee(this,e,null,Ys,X,{})}}function Qs(n){let e,t,r,a,s,i;const o=n[2].default,l=Xe(o,n,n[1],null);return{c(){e=S("div"),t=S("div"),r=le(n[0]),a=z(),s=S("div"),l&&l.c(),m(t,"class","font-bold text-gray-700 px-2 dark:text-white"),m(s,"class",""),m(e,"class","p-2 flex flex-col gap-2 dark:bg-fmd-blue dark:text-white rounded-md")},m(c,u){D(c,e,u),b(e,t),b(t,r),b(e,a),b(e,s),l&&l.m(s,null),i=!0},p(c,[u]){(!i||u&1)&&Re(r,c[0]),l&&l.p&&(!i||u&2)&&et(l,o,c,c[1],i?Qe(o,c[1],u,null):tt(c[1]),null)},i(c){i||(w(l,c),i=!0)},o(c){C(l,c),i=!1},d(c){c&&I(e),l&&l.d(c)}}}function ei(n,e,t){let{$$slots:r={},$$scope:a}=e,{title:s}=e;return n.$$set=i=>{"title"in i&&t(0,s=i.title),"$$scope"in i&&t(1,a=i.$$scope)},[s,a,r]}class Er extends te{constructor(e){super(),ee(this,e,ei,Qs,X,{title:0})}}function ti(n){let e,t;return{c(){e=Y("svg"),t=Y("path"),m(t,"stroke-linecap","round"),m(t,"stroke-linejoin","round"),m(t,"d","M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill","none"),m(e,"viewBox","0 0 24 24"),m(e,"stroke-width","1.5"),m(e,"class","w-full stroke-current")},m(r,a){D(r,e,a),b(e,t)},p:A,i:A,o:A,d(r){r&&I(e)}}}class jn extends te{constructor(e){super(),ee(this,e,null,ti,X,{})}}function ni(n){let e,t;return{c(){e=Y("svg"),t=Y("path"),m(t,"d",`M313.8,179H198.2c-10.6,0-19.2,8.7-19.2,19.2v115.5c0,10.6,8.7,19.2,19.2,19.2h115.5c10.6,0,19.2-8.7,19.2-19.2V198.2
	C333,187.7,324.3,179,313.8,179z M256,21.6C126.5,21.6,21.6,126.5,21.6,256S126.5,490.4,256,490.4S490.4,385.5,490.4,256
	S385.5,21.6,256,21.6z M256,461.1c-113.1,0-205.1-92-205.1-205.1S142.9,50.9,256,50.9s205.1,92,205.1,205.1S369.1,461.1,256,461.1z`),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(e,"viewBox","0 0 512 512"),ae(e,"enable-background","new 0 0 512 512"),m(e,"xml:space","preserve"),m(e,"class","w-full stroke-current")},m(r,a){D(r,e,a),b(e,t)},p:A,i:A,o:A,d(r){r&&I(e)}}}class Fn extends te{constructor(e){super(),ee(this,e,null,ni,X,{})}}function Vn(n){let e,t,r;var a=n[2]?jn:Fn;function s(i){return{}}return a&&(t=new a(s())),{c(){e=S("span"),t&&q(t.$$.fragment),m(e,"class","w-6 flex-shrink-0 dark:fill-white")},m(i,o){D(i,e,o),t&&L(t,e,null),r=!0},p(i,o){if(a!==(a=i[2]?jn:Fn)){if(t){se();const l=t;C(l.$$.fragment,1,0,()=>{Z(l,1)}),ie()}a?(t=new a(s()),q(t.$$.fragment),w(t.$$.fragment,1),L(t,e,null)):t=null}},i(i){r||(t&&w(t.$$.fragment,i),r=!0)},o(i){t&&C(t.$$.fragment,i),r=!1},d(i){i&&I(e),t&&Z(t)}}}function ri(n){let e,t,r,a,s,i,o;const l=n[5].default,c=Xe(l,n,n[4],null);let u=(n[2]||n[3])&&Vn(n);return{c(){e=S("button"),t=S("div"),c&&c.c(),r=z(),u&&u.c(),m(t,"class","flex-grow"),m(e,"class",a=me("flex items-center justify-between gap-1","rounded px-3 py-2 text-left transition-default border border-transparent",n[1]?"bg-opacity-30":"hover:bg-fmd-red-background hover:border-fmd-red-600 dark:hover:bg-fmd-navy",n[0])),e.disabled=n[1]},m(d,f){D(d,e,f),b(e,t),c&&c.m(t,null),b(e,r),u&&u.m(e,null),s=!0,i||(o=re(e,"click",n[6]),i=!0)},p(d,[f]){c&&c.p&&(!s||f&16)&&et(c,l,d,d[4],s?Qe(l,d[4],f,null):tt(d[4]),null),d[2]||d[3]?u?(u.p(d,f),f&12&&w(u,1)):(u=Vn(d),u.c(),w(u,1),u.m(e,null)):u&&(se(),C(u,1,1,()=>{u=null}),ie()),(!s||f&3&&a!==(a=me("flex items-center justify-between gap-1","rounded px-3 py-2 text-left transition-default border border-transparent",d[1]?"bg-opacity-30":"hover:bg-fmd-red-background hover:border-fmd-red-600 dark:hover:bg-fmd-navy",d[0])))&&m(e,"class",a),(!s||f&2)&&(e.disabled=d[1])},i(d){s||(w(c,d),w(u),s=!0)},o(d){C(c,d),C(u),s=!1},d(d){d&&I(e),c&&c.d(d),u&&u.d(),i=!1,o()}}}function ai(n,e,t){let{$$slots:r={},$$scope:a}=e,{extraClasses:s=""}=e,{isDisabled:i=!1}=e,{hasCheck:o=!1}=e,{hasClose:l=!1}=e;function c(u){fr.call(this,n,u)}return n.$$set=u=>{"extraClasses"in u&&t(0,s=u.extraClasses),"isDisabled"in u&&t(1,i=u.isDisabled),"hasCheck"in u&&t(2,o=u.hasCheck),"hasClose"in u&&t(3,l=u.hasClose),"$$scope"in u&&t(4,a=u.$$scope)},[s,i,o,l,a,r,c]}class zt extends te{constructor(e){super(),ee(this,e,ai,ri,X,{extraClasses:0,isDisabled:1,hasCheck:2,hasClose:3})}}function si(n){let e,t,r,a,s;const i=n[1].default,o=Xe(i,n,n[0],null);return{c(){e=S("div"),t=S("div"),t.innerHTML='<div class="h-0.5 w-12 bg-fmd-red slide absolute svelte-18pjq32"></div>',r=z(),a=S("div"),o&&o.c(),m(t,"class","h-0.5 w-full bg-fmd-gray relative"),m(a,"class","text-sm font-medium text-gray-700 dark:text-white"),m(e,"class","flex flex-col items-center gap-2 w-full")},m(l,c){D(l,e,c),b(e,t),b(e,r),b(e,a),o&&o.m(a,null),s=!0},p(l,[c]){o&&o.p&&(!s||c&1)&&et(o,i,l,l[0],s?Qe(i,l[0],c,null):tt(l[0]),null)},i(l){s||(w(o,l),s=!0)},o(l){C(o,l),s=!1},d(l){l&&I(e),o&&o.d(l)}}}function ii(n,e,t){let{$$slots:r={},$$scope:a}=e;return n.$$set=s=>{"$$scope"in s&&t(0,a=s.$$scope)},[a,r]}class Ar extends te{constructor(e){super(),ee(this,e,ii,si,X,{})}}const{Boolean:oi}=ga;function zn(n,e,t){const r=n.slice();return r[11]=e[t],r}function li(n){let e,t,r,a,s,i;return e=new Xs({}),{c(){q(e.$$.fragment),t=z(),r=S("video"),m(r,"class","absolute w-1 h-1 opacity-0 -z-10 pointer-events-none"),r.autoplay=!0,r.playsInline=!0,r.muted=!0},m(o,l){L(e,o,l),D(o,t,l),D(o,r,l),n[9](r),a=!0,s||(i=re(r,"resize",n[4]),s=!0)},p:A,i(o){a||(w(e.$$.fragment,o),a=!0)},o(o){C(e.$$.fragment,o),a=!1},d(o){Z(e,o),o&&I(t),o&&I(r),n[9](null),s=!1,i()}}}function ci(n){return{c:A,m:A,p:A,i:A,o:A,d:A}}function ui(n){let e,t,r,a=n[1],s=[];for(let l=0;l<a.length;l+=1)s[l]=qn(zn(n,a,l));const i=l=>C(s[l],1,1,()=>{s[l]=null});let o=n[2].stream&&Wn(n);return{c(){e=S("div");for(let l=0;l<s.length;l+=1)s[l].c();t=z(),o&&o.c(),m(e,"class","flex flex-col gap-1")},m(l,c){D(l,e,c);for(let u=0;u<s.length;u+=1)s[u].m(e,null);b(e,t),o&&o.m(e,null),r=!0},p(l,c){if(c&14){a=l[1];let u;for(u=0;u<a.length;u+=1){const d=zn(l,a,u);s[u]?(s[u].p(d,c),w(s[u],1)):(s[u]=qn(d),s[u].c(),w(s[u],1),s[u].m(e,t))}for(se(),u=a.length;u<s.length;u+=1)i(u);ie()}l[2].stream?o?(o.p(l,c),c&4&&w(o,1)):(o=Wn(l),o.c(),w(o,1),o.m(e,null)):o&&(se(),C(o,1,1,()=>{o=null}),ie())},i(l){if(!r){for(let c=0;c<a.length;c+=1)w(s[c]);w(o),r=!0}},o(l){s=s.filter(oi);for(let c=0;c<s.length;c+=1)C(s[c]);C(o),r=!1},d(l){l&&I(e),lr(s,l),o&&o.d()}}}function di(n){let e=n[11].label+"",t;return{c(){t=le(e)},m(r,a){D(r,t,a)},p(r,a){a&2&&e!==(e=r[11].label+"")&&Re(t,e)},d(r){r&&I(t)}}}function qn(n){let e,t;function r(){return n[8](n[11])}return e=new zt({props:{hasCheck:n[11].deviceId===n[2].deviceId,$$slots:{default:[di]},$$scope:{ctx:n}}}),e.$on("click",r),{c(){q(e.$$.fragment)},m(a,s){L(e,a,s),t=!0},p(a,s){n=a;const i={};s&6&&(i.hasCheck=n[11].deviceId===n[2].deviceId),s&16386&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(a){t||(w(e.$$.fragment,a),t=!0)},o(a){C(e.$$.fragment,a),t=!1},d(a){Z(e,a)}}}function Wn(n){let e,t,r,a;return t=new zt({props:{extraClasses:"bg-fmd-white dark:bg-fmd-navy/30 dark:hover:bg-fmd-navy w-full",hasClose:!0,$$slots:{default:[fi]},$$scope:{ctx:n}}}),t.$on("click",n[5]),{c(){e=S("div"),q(t.$$.fragment),m(e,"class","w-full block")},m(s,i){D(s,e,i),L(t,e,null),a=!0},p(s,i){const o={};i&16384&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){a||(w(t.$$.fragment,s),Le(()=>{r||(r=Ge(e,Lt,{duration:150},!0)),r.run(1)}),a=!0)},o(s){C(t.$$.fragment,s),r||(r=Ge(e,Lt,{duration:150},!1)),r.run(0),a=!1},d(s){s&&I(e),Z(t),s&&r&&r.end()}}}function fi(n){let e;return{c(){e=le("Stop Webcam")},m(t,r){D(t,e,r)},d(t){t&&I(e)}}}function pi(n){let e,t,r;return t=new Ar({props:{$$slots:{default:[mi]},$$scope:{ctx:n}}}),{c(){e=S("div"),q(t.$$.fragment),m(e,"class","flex justify-center p-3")},m(a,s){D(a,e,s),L(t,e,null),r=!0},p(a,s){const i={};s&16384&&(i.$$scope={dirty:s,ctx:a}),t.$set(i)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){C(t.$$.fragment,a),r=!1},d(a){a&&I(e),Z(t)}}}function mi(n){let e;return{c(){e=le("Fetching cams...")},m(t,r){D(t,e,r)},d(t){t&&I(e)}}}function hi(n){let e,t,r,a={ctx:n,current:null,token:null,hasCatch:!1,pending:pi,then:ui,catch:ci,value:1,blocks:[,,,]};return kt(t=n[1],a),{c(){e=mt(),a.block.c()},m(s,i){D(s,e,i),a.block.m(s,a.anchor=i),a.mount=()=>e.parentNode,a.anchor=e,r=!0},p(s,i){n=s,a.ctx=n,i&2&&t!==(t=n[1])&&kt(t,a)||pr(a,n,i)},i(s){r||(w(a.block),r=!0)},o(s){for(let i=0;i<3;i+=1){const o=a.blocks[i];C(o)}r=!1},d(s){s&&I(e),a.block.d(s),a.token=null,a=null}}}function gi(n){let e,t;return e=new Er({props:{slot:"popupContent",title:"Select a webcam",$$slots:{default:[hi]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},m(r,a){L(e,r,a),t=!0},p(r,a){const s={};a&16390&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){t||(w(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function yi(n){let e,t;return e=new Vt({props:{isActive:!!n[2].stream,isPopupOpen:n[0],$$slots:{popupContent:[gi],default:[li]},$$scope:{ctx:n}}}),e.$on("popupDismiss",n[10]),e.$on("click",n[6]),{c(){q(e.$$.fragment)},m(r,a){L(e,r,a),t=!0},p(r,[a]){const s={};a&4&&(s.isActive=!!r[2].stream),a&1&&(s.isPopupOpen=r[0]),a&16390&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){t||(w(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function _i(n,e,t){let r;Q(n,_e,p=>t(2,r=p));let a=!1;const s=async p=>{c(),t(0,a=!1),ne(_e,r.deviceId=p,r),ne(_e,r.stream=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:p}}}),r),ne(_e,r.preview.srcObject=r.stream,r),i()},i=()=>{var p,h,g,_,v;if((v=(_=(g=(h=(p=r.stream)==null?void 0:p.getVideoTracks)==null?void 0:h.call(p))==null?void 0:g[0])==null?void 0:_.getSettings)!=null&&v.call(_)){const{width:k,height:O}=r.stream.getVideoTracks()[0].getSettings();ne(_e,r.width=k,r),ne(_e,r.height=O,r)}};let o,l=!1;const c=()=>{r.stream&&(r.stream.getTracks().forEach(p=>p.stop()),ne(_e,r.stream=null,r),ne(_e,r.deviceId=null,r),ne(_e,r.preview.srcObject=null,r))},u=()=>{t(0,a=!0)},d=p=>s(p.deviceId);function f(p){he[p?"unshift":"push"](()=>{r.preview=p,_e.set(r)})}const y=()=>t(0,a=!1);return n.$$.update=()=>{if(n.$$.dirty&129&&a){const p=l?Promise.resolve():navigator.mediaDevices.getUserMedia({video:!0,audio:!1}).then(h=>{t(7,l=!0),h.getTracks().forEach(g=>g.stop())});t(1,o=p.then(()=>navigator.mediaDevices.enumerateDevices()).then(h=>h.filter(g=>g.kind==="videoinput")))}},[a,o,r,s,i,c,u,l,d,f,y]}class vi extends te{constructor(e){super(),ee(this,e,_i,yi,X,{})}}function bi(n){let e,t;return{c(){e=Y("svg"),t=Y("path"),m(t,"stroke-linecap","round"),m(t,"stroke-linejoin","round"),m(t,"d","M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill","none"),m(e,"viewBox","0 0 24 24"),m(e,"stroke-width","1.5"),m(e,"stroke","currentColor"),m(e,"class","w-3/4 h-3/4")},m(r,a){D(r,e,a),b(e,t)},p:A,i:A,o:A,d(r){r&&I(e)}}}class wi extends te{constructor(e){super(),ee(this,e,null,bi,X,{})}}function Hn(n,e,t){const r=n.slice();return r[10]=e[t],r}function ki(n){let e,t;return e=new wi({}),{c(){q(e.$$.fragment)},m(r,a){L(e,r,a),t=!0},i(r){t||(w(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function xi(n){return{c:A,m:A,p:A,i:A,o:A,d:A}}function Si(n){let e,t=[],r=new Map,a,s,i=n[9];const o=c=>c[10].deviceId;for(let c=0;c<i.length;c+=1){let u=Hn(n,i,c),d=o(u);r.set(d,t[c]=Jn(d,u))}let l=n[2].stream&&Kn(n);return{c(){e=S("div");for(let c=0;c<t.length;c+=1)t[c].c();a=z(),l&&l.c(),m(e,"class","flex flex-col gap-1")},m(c,u){D(c,e,u);for(let d=0;d<t.length;d+=1)t[d].m(e,null);b(e,a),l&&l.m(e,null),s=!0},p(c,u){u&14&&(i=c[9],se(),t=hr(t,u,o,1,c,i,r,e,mr,Jn,a,Hn),ie()),c[2].stream?l?(l.p(c,u),u&4&&w(l,1)):(l=Kn(c),l.c(),w(l,1),l.m(e,null)):l&&(se(),C(l,1,1,()=>{l=null}),ie())},i(c){if(!s){for(let u=0;u<i.length;u+=1)w(t[u]);w(l),s=!0}},o(c){for(let u=0;u<t.length;u+=1)C(t[u]);C(l),s=!1},d(c){c&&I(e);for(let u=0;u<t.length;u+=1)t[u].d();l&&l.d()}}}function Gn(n){let e;return{c(){e=S("span"),e.textContent="(Default)"},m(t,r){D(t,e,r)},d(t){t&&I(e)}}}function Ci(n){let e=n[10].label+"",t,r,a,s=n[10].deviceId==="default"&&Gn();return{c(){t=le(e),r=z(),s&&s.c(),a=mt()},m(i,o){D(i,t,o),D(i,r,o),s&&s.m(i,o),D(i,a,o)},p(i,o){o&2&&e!==(e=i[10].label+"")&&Re(t,e),i[10].deviceId==="default"?s||(s=Gn(),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},d(i){i&&I(t),i&&I(r),s&&s.d(i),i&&I(a)}}}function Jn(n,e){let t,r,a;function s(){return e[7](e[10])}return r=new zt({props:{hasCheck:e[2].deviceId===e[10].deviceId,$$slots:{default:[Ci]},$$scope:{ctx:e}}}),r.$on("click",s),{key:n,first:null,c(){t=mt(),q(r.$$.fragment),this.first=t},m(i,o){D(i,t,o),L(r,i,o),a=!0},p(i,o){e=i;const l={};o&6&&(l.hasCheck=e[2].deviceId===e[10].deviceId),o&8194&&(l.$$scope={dirty:o,ctx:e}),r.$set(l)},i(i){a||(w(r.$$.fragment,i),a=!0)},o(i){C(r.$$.fragment,i),a=!1},d(i){i&&I(t),Z(r,i)}}}function Kn(n){let e,t,r,a;return t=new zt({props:{extraClasses:"bg-fmd-white dark:bg-fmd-navy/30 dark:hover:bg-fmd-blue w-full",hasClose:!0,$$slots:{default:[Ti]},$$scope:{ctx:n}}}),t.$on("click",n[4]),{c(){e=S("div"),q(t.$$.fragment),m(e,"class","w-full block")},m(s,i){D(s,e,i),L(t,e,null),a=!0},p(s,i){const o={};i&8192&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){a||(w(t.$$.fragment,s),Le(()=>{r||(r=Ge(e,Lt,{duration:150},!0)),r.run(1)}),a=!0)},o(s){C(t.$$.fragment,s),r||(r=Ge(e,Lt,{duration:150},!1)),r.run(0),a=!1},d(s){s&&I(e),Z(t),s&&r&&r.end()}}}function Ti(n){let e;return{c(){e=le("Stop Mic")},m(t,r){D(t,e,r)},d(t){t&&I(e)}}}function Ui(n){let e,t,r;return t=new Ar({props:{$$slots:{default:[Ii]},$$scope:{ctx:n}}}),{c(){e=S("div"),q(t.$$.fragment),m(e,"class","flex justify-center p-3")},m(a,s){D(a,e,s),L(t,e,null),r=!0},p(a,s){const i={};s&8192&&(i.$$scope={dirty:s,ctx:a}),t.$set(i)},i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){C(t.$$.fragment,a),r=!1},d(a){a&&I(e),Z(t)}}}function Ii(n){let e;return{c(){e=le("Fetching mics...")},m(t,r){D(t,e,r)},d(t){t&&I(e)}}}function Di(n){let e,t,r,a={ctx:n,current:null,token:null,hasCatch:!1,pending:Ui,then:Si,catch:xi,value:9,blocks:[,,,]};return kt(t=n[1],a),{c(){e=mt(),a.block.c()},m(s,i){D(s,e,i),a.block.m(s,a.anchor=i),a.mount=()=>e.parentNode,a.anchor=e,r=!0},p(s,i){n=s,a.ctx=n,i&2&&t!==(t=n[1])&&kt(t,a)||pr(a,n,i)},i(s){r||(w(a.block),r=!0)},o(s){for(let i=0;i<3;i+=1){const o=a.blocks[i];C(o)}r=!1},d(s){s&&I(e),a.block.d(s),a.token=null,a=null}}}function Ei(n){let e,t;return e=new Er({props:{slot:"popupContent",title:"Select a mic",$$slots:{default:[Di]},$$scope:{ctx:n}}}),{c(){q(e.$$.fragment)},m(r,a){L(e,r,a),t=!0},p(r,a){const s={};a&8198&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){t||(w(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Ai(n){let e,t;return e=new Vt({props:{isActive:!!n[2].stream,isPopupOpen:n[0],$$slots:{popupContent:[Ei],default:[ki]},$$scope:{ctx:n}}}),e.$on("popupDismiss",n[8]),e.$on("click",n[5]),{c(){q(e.$$.fragment)},m(r,a){L(e,r,a),t=!0},p(r,[a]){const s={};a&4&&(s.isActive=!!r[2].stream),a&1&&(s.isPopupOpen=r[0]),a&8198&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){t||(w(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){Z(e,r)}}}function Oi(n,e,t){let r;Q(n,Be,f=>t(2,r=f));let a=!1;const s=async f=>{l(),t(0,a=!1);try{ne(Be,r.deviceId=f,r),ne(Be,r.stream=await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:f},echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),r)}catch{ne(Be,r={},r)}};let i,o=!1;const l=()=>{r.stream&&(r.stream.getTracks().forEach(f=>f.stop()),ne(Be,r.stream=null,r),ne(Be,r.deviceId=null,r))},c=()=>{t(0,a=!0)},u=f=>s(f.deviceId),d=()=>t(0,a=!1);return n.$$.update=()=>{if(n.$$.dirty&65&&a){const f=o?Promise.resolve():navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then(y=>{t(6,o=!0),y.getTracks().forEach(p=>p.stop())});t(1,i=f.then(()=>navigator.mediaDevices.enumerateDevices()).then(y=>y.filter(p=>p.kind==="audioinput")))}},[a,i,r,s,l,c,o,u,d]}class Bi extends te{constructor(e){super(),ee(this,e,Oi,Ai,X,{})}}var Mi=0;function $i(){return++Mi}var un=Function("return this")();typeof un.__nextId!="function"&&(un.__nextId=$i);function Pi(){return"uid-"+un.__nextId()}function Yn(n,e,t){const r=n.slice();return r[7]=e[t],r[9]=t,r}function Xn(n,e){let t,r,a;return r=new Ks({props:{share:e[7],index:e[9]}}),{key:n,first:null,c(){t=mt(),q(r.$$.fragment),this.first=t},m(s,i){D(s,t,i),L(r,s,i),a=!0},p(s,i){e=s;const o={};i&1&&(o.share=e[7]),i&1&&(o.index=e[9]),r.$set(o)},i(s){a||(w(r.$$.fragment,s),a=!0)},o(s){C(r.$$.fragment,s),a=!1},d(s){s&&I(t),Z(r,s)}}}function Ni(n){let e,t,r;return t=new Ns({}),{c(){e=S("div"),q(t.$$.fragment),m(e,"class","w-10")},m(a,s){D(a,e,s),L(t,e,null),r=!0},p:A,i(a){r||(w(t.$$.fragment,a),r=!0)},o(a){C(t.$$.fragment,a),r=!1},d(a){a&&I(e),Z(t)}}}function Qn(n){let e,t,r,a;return{c(){e=S("div"),t=le(n[1]),m(e,"class","w-24 bg-white rounded px-3 py-1 shadow flex justify-center items-center font-medium text-lg text-gray-600")},m(s,i){D(s,e,i),b(e,t),a=!0},p(s,i){(!a||i&2)&&Re(t,s[1])},i(s){a||(Le(()=>{r||(r=Ge(e,Rn,{duration:300},!0)),r.run(1)}),a=!0)},o(s){r||(r=Ge(e,Rn,{duration:300},!1)),r.run(0),a=!1},d(s){s&&I(e),s&&r&&r.end()}}}function Ri(n){let e,t,r,a,s,i,o,l,c,u,d,f=[],y=new Map,p,h,g,_,v,k,O,j,N,F,G,fe;a=new Bi({}),o=new vi({});let be=n[0];const we=R=>R[7].id;for(let R=0;R<be.length;R+=1){let H=Yn(n,be,R),ye=we(H);y.set(ye,f[R]=Xn(ye,H))}g=new Vt({props:{extraClasses:"p-2.5",isSquareVariant:!0,$$slots:{default:[Ni]},$$scope:{ctx:n}}}),g.$on("click",n[4]);let J=n[1]!==null&&Qn(n);return{c(){e=S("div"),t=S("div"),r=S("div"),q(a.$$.fragment),s=z(),i=S("div"),q(o.$$.fragment),l=z(),c=S("div"),u=z(),d=S("div");for(let R=0;R<f.length;R+=1)f[R].c();p=z(),h=S("div"),q(g.$$.fragment),_=z(),v=S("div"),J&&J.c(),k=z(),O=S("button"),j=S("div"),m(r,"class","w-14 h-14"),m(i,"class","w-14 h-14"),m(t,"class","flex gap-2"),m(c,"class","w-px h-16 bg-fmd-gray dark:bg-fmd-blue"),m(h,"class","w-20 h-14"),m(d,"class","flex gap-3 items-center"),m(j,"class",N="bg-fmd-red transition transition-all duration-300 ease-in-out "+(n[2]?"w-1/2 h-1/2 rounded-lg group-hover:shadow-xl":"w-full h-full rounded-full")),m(O,"class","w-16 h-16 aspect-square shadow rounded-full cursor-pointer border-4 border-gray-500 p-1 flex items-center justify-center group"),m(v,"class","flex justify-end items-center gap-2"),m(e,"class","grid grid-cols-[auto_auto_1fr_auto] gap-x-4 gap-y-10 items-center pb-4")},m(R,H){D(R,e,H),b(e,t),b(t,r),L(a,r,null),b(t,s),b(t,i),L(o,i,null),b(e,l),b(e,c),b(e,u),b(e,d);for(let ye=0;ye<f.length;ye+=1)f[ye].m(d,null);b(d,p),b(d,h),L(g,h,null),b(e,_),b(e,v),J&&J.m(v,null),b(v,k),b(v,O),b(O,j),F=!0,G||(fe=re(O,"click",n[6]),G=!0)},p(R,[H]){H&1&&(be=R[0],se(),f=hr(f,H,we,1,R,be,y,d,mr,Xn,p,Yn),ie());const ye={};H&1024&&(ye.$$scope={dirty:H,ctx:R}),g.$set(ye),R[1]!==null?J?(J.p(R,H),H&2&&w(J,1)):(J=Qn(R),J.c(),w(J,1),J.m(v,k)):J&&(se(),C(J,1,1,()=>{J=null}),ie()),(!F||H&4&&N!==(N="bg-fmd-red transition transition-all duration-300 ease-in-out "+(R[2]?"w-1/2 h-1/2 rounded-lg group-hover:shadow-xl":"w-full h-full rounded-full")))&&m(j,"class",N)},i(R){if(!F){w(a.$$.fragment,R),w(o.$$.fragment,R);for(let H=0;H<be.length;H+=1)w(f[H]);w(g.$$.fragment,R),w(J),F=!0}},o(R){C(a.$$.fragment,R),C(o.$$.fragment,R);for(let H=0;H<f.length;H+=1)C(f[H]);C(g.$$.fragment,R),C(J),F=!1},d(R){R&&I(e),Z(a),Z(o);for(let H=0;H<f.length;H+=1)f[H].d();Z(g),J&&J.d(),G=!1,fe()}}}function Li(n,e,t){let r,a,s;Q(n,pe,u=>t(5,r=u)),Q(n,us,u=>t(1,a=u)),Q(n,xr,u=>t(2,s=u));const i=dr();let o=[];const l=()=>{r.shares.push({width:0,height:0,id:Pi()}),pe.set(r)},c=()=>{i("record")};return n.$$.update=()=>{n.$$.dirty&32&&t(0,o=[...r.shares])},[o,a,s,i,l,r,c]}class Zi extends te{constructor(e){super(),ee(this,e,Li,Ri,X,{})}}var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ji(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fi=typeof yt=="object"&&yt&&yt.Object===Object&&yt,Vi=typeof self=="object"&&self&&self.Object===Object&&self;Fi||Vi||Function("return this")();var Or={exports:{}};(function(n){(function(e,t){n.exports?n.exports=t():window.ysFixWebmDuration=t()})("fix-webm-duration",function(){var e={172351395:{name:"EBML",type:"Container"},646:{name:"EBMLVersion",type:"Uint"},759:{name:"EBMLReadVersion",type:"Uint"},754:{name:"EBMLMaxIDLength",type:"Uint"},755:{name:"EBMLMaxSizeLength",type:"Uint"},642:{name:"DocType",type:"String"},647:{name:"DocTypeVersion",type:"Uint"},645:{name:"DocTypeReadVersion",type:"Uint"},108:{name:"Void",type:"Binary"},63:{name:"CRC-32",type:"Binary"},190023271:{name:"SignatureSlot",type:"Container"},16010:{name:"SignatureAlgo",type:"Uint"},16026:{name:"SignatureHash",type:"Uint"},16037:{name:"SignaturePublicKey",type:"Binary"},16053:{name:"Signature",type:"Binary"},15963:{name:"SignatureElements",type:"Container"},15995:{name:"SignatureElementList",type:"Container"},9522:{name:"SignedElement",type:"Binary"},139690087:{name:"Segment",type:"Container"},21863284:{name:"SeekHead",type:"Container"},3515:{name:"Seek",type:"Container"},5035:{name:"SeekID",type:"Binary"},5036:{name:"SeekPosition",type:"Uint"},88713574:{name:"Info",type:"Container"},13220:{name:"SegmentUID",type:"Binary"},13188:{name:"SegmentFilename",type:"String"},1882403:{name:"PrevUID",type:"Binary"},1868715:{name:"PrevFilename",type:"String"},2013475:{name:"NextUID",type:"Binary"},1999803:{name:"NextFilename",type:"String"},1092:{name:"SegmentFamily",type:"Binary"},10532:{name:"ChapterTranslate",type:"Container"},10748:{name:"ChapterTranslateEditionUID",type:"Uint"},10687:{name:"ChapterTranslateCodec",type:"Uint"},10661:{name:"ChapterTranslateID",type:"Binary"},710577:{name:"TimecodeScale",type:"Uint"},1161:{name:"Duration",type:"Float"},1121:{name:"DateUTC",type:"Date"},15273:{name:"Title",type:"String"},3456:{name:"MuxingApp",type:"String"},5953:{name:"WritingApp",type:"String"},103:{name:"Timecode",type:"Uint"},6228:{name:"SilentTracks",type:"Container"},6359:{name:"SilentTrackNumber",type:"Uint"},39:{name:"Position",type:"Uint"},43:{name:"PrevSize",type:"Uint"},35:{name:"SimpleBlock",type:"Binary"},32:{name:"BlockGroup",type:"Container"},33:{name:"Block",type:"Binary"},34:{name:"BlockVirtual",type:"Binary"},13729:{name:"BlockAdditions",type:"Container"},38:{name:"BlockMore",type:"Container"},110:{name:"BlockAddID",type:"Uint"},37:{name:"BlockAdditional",type:"Binary"},27:{name:"BlockDuration",type:"Uint"},122:{name:"ReferencePriority",type:"Uint"},123:{name:"ReferenceBlock",type:"Int"},125:{name:"ReferenceVirtual",type:"Int"},36:{name:"CodecState",type:"Binary"},13730:{name:"DiscardPadding",type:"Int"},14:{name:"Slices",type:"Container"},104:{name:"TimeSlice",type:"Container"},76:{name:"LaceNumber",type:"Uint"},77:{name:"FrameNumber",type:"Uint"},75:{name:"BlockAdditionID",type:"Uint"},78:{name:"Delay",type:"Uint"},79:{name:"SliceDuration",type:"Uint"},72:{name:"ReferenceFrame",type:"Container"},73:{name:"ReferenceOffset",type:"Uint"},74:{name:"ReferenceTimeCode",type:"Uint"},47:{name:"EncryptedBlock",type:"Binary"},106212971:{name:"Tracks",type:"Container"},46:{name:"TrackEntry",type:"Container"},87:{name:"TrackNumber",type:"Uint"},13253:{name:"TrackUID",type:"Uint"},3:{name:"TrackType",type:"Uint"},57:{name:"FlagEnabled",type:"Uint"},8:{name:"FlagDefault",type:"Uint"},5546:{name:"FlagForced",type:"Uint"},28:{name:"FlagLacing",type:"Uint"},11751:{name:"MinCache",type:"Uint"},11768:{name:"MaxCache",type:"Uint"},254851:{name:"DefaultDuration",type:"Uint"},216698:{name:"DefaultDecodedFieldDuration",type:"Uint"},209231:{name:"TrackTimecodeScale",type:"Float"},4991:{name:"TrackOffset",type:"Int"},5614:{name:"MaxBlockAdditionID",type:"Uint"},4974:{name:"Name",type:"String"},177564:{name:"Language",type:"String"},6:{name:"CodecID",type:"String"},9122:{name:"CodecPrivate",type:"Binary"},362120:{name:"CodecName",type:"String"},13382:{name:"AttachmentLink",type:"Uint"},1742487:{name:"CodecSettings",type:"String"},1785920:{name:"CodecInfoURL",type:"String"},438848:{name:"CodecDownloadURL",type:"String"},42:{name:"CodecDecodeAll",type:"Uint"},12203:{name:"TrackOverlay",type:"Uint"},5802:{name:"CodecDelay",type:"Uint"},5819:{name:"SeekPreRoll",type:"Uint"},9764:{name:"TrackTranslate",type:"Container"},9980:{name:"TrackTranslateEditionUID",type:"Uint"},9919:{name:"TrackTranslateCodec",type:"Uint"},9893:{name:"TrackTranslateTrackID",type:"Binary"},96:{name:"Video",type:"Container"},26:{name:"FlagInterlaced",type:"Uint"},5048:{name:"StereoMode",type:"Uint"},5056:{name:"AlphaMode",type:"Uint"},5049:{name:"OldStereoMode",type:"Uint"},48:{name:"PixelWidth",type:"Uint"},58:{name:"PixelHeight",type:"Uint"},5290:{name:"PixelCropBottom",type:"Uint"},5307:{name:"PixelCropTop",type:"Uint"},5324:{name:"PixelCropLeft",type:"Uint"},5341:{name:"PixelCropRight",type:"Uint"},5296:{name:"DisplayWidth",type:"Uint"},5306:{name:"DisplayHeight",type:"Uint"},5298:{name:"DisplayUnit",type:"Uint"},5299:{name:"AspectRatioType",type:"Uint"},963876:{name:"ColourSpace",type:"Binary"},1029411:{name:"GammaValue",type:"Float"},230371:{name:"FrameRate",type:"Float"},97:{name:"Audio",type:"Container"},53:{name:"SamplingFrequency",type:"Float"},14517:{name:"OutputSamplingFrequency",type:"Float"},31:{name:"Channels",type:"Uint"},15739:{name:"ChannelPositions",type:"Binary"},8804:{name:"BitDepth",type:"Uint"},98:{name:"TrackOperation",type:"Container"},99:{name:"TrackCombinePlanes",type:"Container"},100:{name:"TrackPlane",type:"Container"},101:{name:"TrackPlaneUID",type:"Uint"},102:{name:"TrackPlaneType",type:"Uint"},105:{name:"TrackJoinBlocks",type:"Container"},109:{name:"TrackJoinUID",type:"Uint"},64:{name:"TrickTrackUID",type:"Uint"},65:{name:"TrickTrackSegmentUID",type:"Binary"},70:{name:"TrickTrackFlag",type:"Uint"},71:{name:"TrickMasterTrackUID",type:"Uint"},68:{name:"TrickMasterTrackSegmentUID",type:"Binary"},11648:{name:"ContentEncodings",type:"Container"},8768:{name:"ContentEncoding",type:"Container"},4145:{name:"ContentEncodingOrder",type:"Uint"},4146:{name:"ContentEncodingScope",type:"Uint"},4147:{name:"ContentEncodingType",type:"Uint"},4148:{name:"ContentCompression",type:"Container"},596:{name:"ContentCompAlgo",type:"Uint"},597:{name:"ContentCompSettings",type:"Binary"},4149:{name:"ContentEncryption",type:"Container"},2017:{name:"ContentEncAlgo",type:"Uint"},2018:{name:"ContentEncKeyID",type:"Binary"},2019:{name:"ContentSignature",type:"Binary"},2020:{name:"ContentSigKeyID",type:"Binary"},2021:{name:"ContentSigAlgo",type:"Uint"},2022:{name:"ContentSigHashAlgo",type:"Uint"},206814059:{name:"Cues",type:"Container"},59:{name:"CuePoint",type:"Container"},51:{name:"CueTime",type:"Uint"},55:{name:"CueTrackPositions",type:"Container"},119:{name:"CueTrack",type:"Uint"},113:{name:"CueClusterPosition",type:"Uint"},112:{name:"CueRelativePosition",type:"Uint"},50:{name:"CueDuration",type:"Uint"},4984:{name:"CueBlockNumber",type:"Uint"},106:{name:"CueCodecState",type:"Uint"},91:{name:"CueReference",type:"Container"},22:{name:"CueRefTime",type:"Uint"},23:{name:"CueRefCluster",type:"Uint"},4959:{name:"CueRefNumber",type:"Uint"},107:{name:"CueRefCodecState",type:"Uint"},155296873:{name:"Attachments",type:"Container"},8615:{name:"AttachedFile",type:"Container"},1662:{name:"FileDescription",type:"String"},1646:{name:"FileName",type:"String"},1632:{name:"FileMimeType",type:"String"},1628:{name:"FileData",type:"Binary"},1710:{name:"FileUID",type:"Uint"},1653:{name:"FileReferral",type:"Binary"},1633:{name:"FileUsedStartTime",type:"Uint"},1634:{name:"FileUsedEndTime",type:"Uint"},4433776:{name:"Chapters",type:"Container"},1465:{name:"EditionEntry",type:"Container"},1468:{name:"EditionUID",type:"Uint"},1469:{name:"EditionFlagHidden",type:"Uint"},1499:{name:"EditionFlagDefault",type:"Uint"},1501:{name:"EditionFlagOrdered",type:"Uint"},54:{name:"ChapterAtom",type:"Container"},13252:{name:"ChapterUID",type:"Uint"},5716:{name:"ChapterStringUID",type:"String"},17:{name:"ChapterTimeStart",type:"Uint"},18:{name:"ChapterTimeEnd",type:"Uint"},24:{name:"ChapterFlagHidden",type:"Uint"},1432:{name:"ChapterFlagEnabled",type:"Uint"},11879:{name:"ChapterSegmentUID",type:"Binary"},11964:{name:"ChapterSegmentEditionUID",type:"Uint"},9155:{name:"ChapterPhysicalEquiv",type:"Uint"},15:{name:"ChapterTrack",type:"Container"},9:{name:"ChapterTrackNumber",type:"Uint"},0:{name:"ChapterDisplay",type:"Container"},5:{name:"ChapString",type:"String"},892:{name:"ChapLanguage",type:"String"},894:{name:"ChapCountry",type:"String"},10564:{name:"ChapProcess",type:"Container"},10581:{name:"ChapProcessCodecID",type:"Uint"},1293:{name:"ChapProcessPrivate",type:"Binary"},10513:{name:"ChapProcessCommand",type:"Container"},10530:{name:"ChapProcessTime",type:"Uint"},10547:{name:"ChapProcessData",type:"Binary"},39109479:{name:"Tags",type:"Container"},13171:{name:"Tag",type:"Container"},9152:{name:"Targets",type:"Container"},10442:{name:"TargetTypeValue",type:"Uint"},9162:{name:"TargetType",type:"String"},9157:{name:"TagTrackUID",type:"Uint"},9161:{name:"TagEditionUID",type:"Uint"},9156:{name:"TagChapterUID",type:"Uint"},9158:{name:"TagAttachmentUID",type:"Uint"},10184:{name:"SimpleTag",type:"Container"},1443:{name:"TagName",type:"String"},1146:{name:"TagLanguage",type:"String"},1156:{name:"TagDefault",type:"Uint"},1159:{name:"TagString",type:"String"},1157:{name:"TagBinary",type:"Binary"}};function t(u,d){u.prototype=Object.create(d.prototype),u.prototype.constructor=u}function r(u,d){this.name=u||"Unknown",this.type=d||"Unknown"}r.prototype.updateBySource=function(){},r.prototype.setSource=function(u){this.source=u,this.updateBySource()},r.prototype.updateByData=function(){},r.prototype.setData=function(u){this.data=u,this.updateByData()};function a(u,d){r.call(this,u,d||"Uint")}t(a,r);function s(u){return u.length%2===1?"0"+u:u}a.prototype.updateBySource=function(){this.data="";for(var u=0;u<this.source.length;u++){var d=this.source[u].toString(16);this.data+=s(d)}},a.prototype.updateByData=function(){var u=this.data.length/2;this.source=new Uint8Array(u);for(var d=0;d<u;d++){var f=this.data.substr(d*2,2);this.source[d]=parseInt(f,16)}},a.prototype.getValue=function(){return parseInt(this.data,16)},a.prototype.setValue=function(u){this.setData(s(u.toString(16)))};function i(u,d){r.call(this,u,d||"Float")}t(i,r),i.prototype.getFloatArrayType=function(){return this.source&&this.source.length===4?Float32Array:Float64Array},i.prototype.updateBySource=function(){var u=this.source.reverse(),d=this.getFloatArrayType(),f=new d(u.buffer);this.data=f[0]},i.prototype.updateByData=function(){var u=this.getFloatArrayType(),d=new u([this.data]),f=new Uint8Array(d.buffer);this.source=f.reverse()},i.prototype.getValue=function(){return this.data},i.prototype.setValue=function(u){this.setData(u)};function o(u,d){r.call(this,u,d||"Container")}t(o,r),o.prototype.readByte=function(){return this.source[this.offset++]},o.prototype.readUint=function(){for(var u=this.readByte(),d=8-u.toString(2).length,f=u-(1<<7-d),y=0;y<d;y++)f*=256,f+=this.readByte();return f},o.prototype.updateBySource=function(){for(this.data=[],this.offset=0;this.offset<this.source.length;this.offset=f){var u=this.readUint(),d=this.readUint(),f=Math.min(this.offset+d,this.source.length),y=this.source.slice(this.offset,f),p=e[u]||{name:"Unknown",type:"Unknown"},h=r;switch(p.type){case"Container":h=o;break;case"Uint":h=a;break;case"Float":h=i;break}var g=new h(p.name,p.type);g.setSource(y),this.data.push({id:u,idHex:u.toString(16),data:g})}},o.prototype.writeUint=function(u,d){for(var f=1,y=128;u>=y&&f<8;f++,y*=128);if(!d)for(var p=y+u,h=f-1;h>=0;h--){var g=p%256;this.source[this.offset+h]=g,p=(p-g)/256}this.offset+=f},o.prototype.writeSections=function(u){this.offset=0;for(var d=0;d<this.data.length;d++){var f=this.data[d],y=f.data.source,p=y.length;this.writeUint(f.id,u),this.writeUint(p,u),u||this.source.set(y,this.offset),this.offset+=p}return this.offset},o.prototype.updateByData=function(){var u=this.writeSections("draft");this.source=new Uint8Array(u),this.writeSections()},o.prototype.getSectionById=function(u){for(var d=0;d<this.data.length;d++){var f=this.data[d];if(f.id===u)return f.data}return null};function l(u){o.call(this,"File","File"),this.setSource(u)}t(l,o),l.prototype.fixDuration=function(u,d){var f=d&&d.logger;f===void 0?f=function(_){console.log(_)}:f||(f=function(){});var y=this.getSectionById(139690087);if(!y)return f("[fix-webm-duration] Segment section is missing"),!1;var p=y.getSectionById(88713574);if(!p)return f("[fix-webm-duration] Info section is missing"),!1;var h=p.getSectionById(710577);if(!h)return f("[fix-webm-duration] TimecodeScale section is missing"),!1;var g=p.getSectionById(1161);if(g)if(g.getValue()<=0)f("[fix-webm-duration] Duration section is present, but the value is empty"),g.setValue(u);else return f("[fix-webm-duration] Duration section is present"),!1;else f("[fix-webm-duration] Duration section is missing"),g=new i("Duration","Float"),g.setValue(u),p.data.push({id:1161,data:g});return h.setValue(1e6),p.updateByData(),y.updateByData(),this.updateByData(),!0},l.prototype.toBlob=function(u){return new Blob([this.source.buffer],{type:u||"video/webm"})};function c(u,d,f,y){if(typeof f=="object"&&(y=f,f=void 0),!f)return new Promise(function(h){c(u,d,h,y)});try{var p=new FileReader;p.onloadend=function(){try{var h=new l(new Uint8Array(p.result));h.fixDuration(d,y)&&(u=h.toBlob(u.type))}catch{}f(u)},p.readAsArrayBuffer(u)}catch{f(u)}}return c.default=c,c})})(Or);var zi=Or.exports;const qi=ji(zi),Wi=(n,e)=>new Promise(t=>{qi(n,e,r=>t(r),{logger:!1})}),Hi=()=>Yi.find(n=>MediaRecorder.isTypeSupported(n.mimeType)),Gi=["video"],Ji=["mp4","webm","ogg","x-matroska"],Ki=["vp9","vp9.0","vp8","vp8.0","avc1","av1","h265","h.265","h264","h.264","opus"],Yi=[...new Set(Ji.flatMap(n=>Ki.flatMap(e=>Gi.flatMap(t=>[{mimeType:`${t}/${n};codecs:${e}`,ext:n},{mimeType:`${t}/${n};codecs=${e}`,ext:n},{mimeType:`${t}/${n};codecs:${e.toUpperCase()}`,ext:n},{mimeType:`${t}/${n};codecs=${e.toUpperCase()}`,ext:n},{mimeType:`${t}/${n}`,ext:n}]))))];function Xi(n){let e,t,r,a,s,i,o,l;return s=new Ms({}),o=new Zi({}),o.$on("record",n[0]),{c(){e=S("div"),t=S("div"),r=S("div"),a=S("div"),q(s.$$.fragment),i=z(),q(o.$$.fragment),m(a,"class","flex-grow overflow-hidden"),m(r,"class","relative flex flex-col gap-4 flex-grow max-w-[calc(100%-350px)]"),m(t,"class","w-full flex gap-12 mr-0 ml-9 h-full"),m(e,"class","w-screen h-screen overflow-hidden bg-fmd-white p-0 sm:p-3 md:pr-0 sm:p-3 md:pr-0 flex items-center relative dark:bg-fmd-navy")},m(c,u){D(c,e,u),b(e,t),b(t,r),b(r,a),L(s,a,null),b(r,i),L(o,r,null),l=!0},p:A,i(c){l||(w(s.$$.fragment,c),w(o.$$.fragment,c),l=!0)},o(c){C(s.$$.fragment,c),C(o.$$.fragment,c),l=!1},d(c){c&&I(e),Z(s),Z(o)}}}function Qi(n,e,t){let r,a,s,i;Q(n,xr,h=>t(4,r=h)),Q(n,Be,h=>t(5,a=h)),Q(n,on,h=>t(6,s=h)),Q(n,st,h=>t(7,i=h));let o;const l=[];let c="";const u=h=>{l.push(h.data)},d=async()=>{const h=performance.now()-i;ne(st,i=null,i);const g=new Blob(l,{type:l[0].type}),_=await Wi(g,h),v=URL.createObjectURL(_),k=document.createElement("a");k.href=v,k.download=`video.${c}`,k.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!1,view:window})),setTimeout(()=>{URL.revokeObjectURL(v),k.remove()},500)},f=()=>{var _;ne(st,i=performance.now(),i),l.length=0;const h=new MediaStream([...(s==null?void 0:s.getTracks())||[],...((_=a.stream)==null?void 0:_.getTracks())||[]]),g=Hi();c=g.ext,o=new MediaRecorder(h,{audioBitsPerSecond:128e3,videoBitsPerSecond:10*1e3*1e3,mimeType:g.mimeType}),o.ondataavailable=u,o.onstop=d,o.start()},y=()=>{o.stop()};return[()=>{r?y():f()}]}class eo extends te{constructor(e){super(),ee(this,e,Qi,Xi,X,{})}}new eo({target:document.getElementById("app")});
